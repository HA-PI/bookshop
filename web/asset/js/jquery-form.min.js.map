{"version":3,"sources":["jquery-form.min.js"],"names":["require","e","t","n","r","s","o","u","a","i","f","Error","code","l","exports","call","length","jquery-form","module","factory","define","amd","root","jQuery","window","$","doAjaxSubmit","options","data","isDefaultPrevented","preventDefault","target","closest","ajaxSubmit","captureSubmittingElement","$el","is","form","clk","type","offsetX","clk_x","clk_y","offsetY","fn","offset","pageX","left","pageY","top","offsetLeft","offsetTop","setTimeout","log","debug","msg","Array","prototype","join","arguments","console","opera","postError","rCRLF","feature","fileapi","undefined","get","files","formdata","FormData","hasProp","prop","attr2","this","attr","apply","val","jquery","dataType","onSuccess","deepSerialize","extraData","part","serialized","param","traditional","split","len","result","replace","push","decodeURIComponent","fileUploadIframe","getDoc","frame","doc","contentWindow","document","err","contentDocument","doSubmit","checkState","state","io","readyState","toLowerCase","name","cb","SERVER_ABORT","timeoutHandle","clearTimeout","$form","et","setAttribute","id","method","test","url","skipEncodingOverride","encoding","enctype","timeout","timedOut","CLIENT_TIMEOUT_ABORT","extraInputs","hasOwnProperty","isPlainObject","ownerDocument","value","appendTo","iframeTarget","$io","$body","attachEvent","addEventListener","submit","createElement","removeAttr","remove","xhr","aborted","callbackProcessed","abort","deferred","reject","location","href","iframeSrc","detachEvent","removeEventListener","errMsg","status","isXml","XMLDocument","isXMLDoc","body","innerHTML","domCheckCount","docRoot","documentElement","responseText","responseXML","getResponseHeader","header","content-type","Number","getAttribute","statusText","dt","scr","textarea","ta","getElementsByTagName","pre","b","textContent","innerText","toXml","httpData","error","success","context","resolve","g","event","trigger","active","complete","el","sub","Deferred","elements","extend","ajaxSettings","Date","getTime","css","position","getAllResponseHeaders","setRequestHeader","execCommand","ignore","global","beforeSend","disabled","csrf_token","csrf_param","forceSync","parseXML","ActiveXObject","async","loadXML","DOMParser","parseFromString","nodeName","parseJSON","ct","xml","indexOf","dataFilter","globalEval","action","trim","match","veto","beforeSerialize","qx","formToArray","semantic","filtering","optionsData","isFunction","beforeSubmit","q","toUpperCase","callbacks","resetForm","clearForm","includeHidden","oldSuccess","textStatus","jqXHR","successArguments","replaceTarget","each","isArray","merge","max","oldError","oldComplete","hasFileInputs","filter","mp","multipart","fileAPI","jqxhr","shouldUseFrame","iframe","closeKeepAlive","append","serializedData","contentType","processData","cache","uploadProgress","upload","percent","loaded","total","lengthComputable","Math","ceil","formData","ajax","removeData","k","ajaxForm","delegation","on","selector","c","isReady","off","ajaxFormUnbind","els2","formId","els","makeArray","navigator","userAgent","concat","map","j","v","jmax","fieldValue","constructor","required","$input","input","formSerialize","fieldSerialize","successful","tag","tagName","checked","selectedIndex","index","ops","one","op","selected","attributes","text","clearFields","clearInputs","re","replaceWith","clone","defaultChecked","defaultValue","select","parents","multiple","defaultSelected","find","forEl","list","unshift","reset","nodeType","enable","$sel","parent"],"mappings":"AAAAA,QAAQ,SAAUC,EAAEC,EAAEC,EAAEC,GAAG,SAASC,EAAEC,EAAEC,GAAG,IAAIJ,EAAEG,GAAG,CAAC,IAAIJ,EAAEI,GAAG,CAAC,IAAIE,EAAkB,mBAATR,SAAqBA,QAAQ,IAAIO,GAAGC,EAAE,OAAOA,EAAEF,GAAE,GAAI,GAAGG,EAAE,OAAOA,EAAEH,GAAE,GAAI,IAAII,EAAE,IAAIC,MAAM,uBAAuBL,EAAE,KAAK,MAAMI,EAAEE,KAAK,mBAAmBF,EAAE,IAAIG,EAAEV,EAAEG,IAAIQ,YAAYZ,EAAEI,GAAG,GAAGS,KAAKF,EAAEC,QAAQ,SAASb,GAAG,IAAIE,EAAED,EAAEI,GAAG,GAAGL,GAAG,OAAOI,EAAEF,GAAIF,IAAIY,EAAEA,EAAEC,QAAQb,EAAEC,EAAEC,EAAEC,GAAG,OAAOD,EAAEG,GAAGQ,QAAkD,IAAI,IAA1CL,EAAkB,mBAATT,SAAqBA,QAAgBM,EAAE,EAAEA,EAAEF,EAAEY,OAAOV,IAAID,EAAED,EAAEE,IAAI,OAAOD,IAAKY,eAAe,SAASjB,EAAQkB,EAAOJ,IAc1e,SAAUK,GACY,mBAAXC,QAAyBA,OAAOC,IAE1CD,QAAQ,UAAWD,GACS,iBAAXD,GAAuBA,EAAOJ,QAE/CI,EAAOJ,QAAU,SAAUQ,EAAMC,GAYhC,YAXsB,IAAXA,IAITA,EADqB,oBAAXC,OACDxB,EAAQ,UAGRA,EAAQ,UAAUsB,IAG7BH,EAAQI,GACDA,GAIRJ,EAAQI,SAGR,SAAUE,GAEX,aAw8BA,SAASC,EAAazB,GAErB,IAAI0B,EAAU1B,EAAE2B,KAEX3B,EAAE4B,uBACN5B,EAAE6B,iBACFL,EAAExB,EAAE8B,QAAQC,QAAQ,QAAQC,WAAWN,IAIzC,SAASO,EAAyBjC,GAEjC,IAAI8B,EAAS9B,EAAE8B,OACXI,EAAMV,EAAEM,GAEZ,IAAKI,EAAIC,GAAG,8BAA+B,CAE1C,IAAIlC,EAAIiC,EAAIH,QAAQ,iBAEpB,GAAiB,IAAb9B,EAAEc,OACL,OAEDe,EAAS7B,EAAE,GAGZ,IAAImC,EAAON,EAAOM,KAIlB,GAFAA,EAAKC,IAAMP,EAES,UAAhBA,EAAOQ,KACV,QAAyB,IAAdtC,EAAEuC,QACZH,EAAKI,MAAQxC,EAAEuC,QACfH,EAAKK,MAAQzC,EAAE0C,aAET,GAA2B,mBAAhBlB,EAAEmB,GAAGC,OAAuB,CAC7C,IAAIA,EAASV,EAAIU,SAEjBR,EAAKI,MAAQxC,EAAE6C,MAAQD,EAAOE,KAC9BV,EAAKK,MAAQzC,EAAE+C,MAAQH,EAAOI,SAG9BZ,EAAKI,MAAQxC,EAAE6C,MAAQf,EAAOmB,WAC9Bb,EAAKK,MAAQzC,EAAE+C,MAAQjB,EAAOoB,UAIhCC,WAAW,WACVf,EAAKC,IAAMD,EAAKI,MAAQJ,EAAKK,MAAQ,MACnC,KAicJ,SAASW,IACR,GAAK5B,EAAEmB,GAAGX,WAAWqB,MAArB,CAIA,IAAIC,EAAM,iBAAmBC,MAAMC,UAAUC,KAAK3C,KAAK4C,UAAW,IAE9DnC,OAAOoC,SAAWpC,OAAOoC,QAAQP,IACpC7B,OAAOoC,QAAQP,IAAIE,GAET/B,OAAOqC,OAASrC,OAAOqC,MAAMC,WACvCtC,OAAOqC,MAAMC,UAAUP,IA75CzB,IAAIQ,EAAQ,SAKRC,KAEJA,EAAQC,aAAoDC,IAA1CzC,EAAE,uBAAuB0C,IAAI,GAAGC,MAClDJ,EAAQK,cAAuC,IAApB7C,OAAO8C,SAElC,IAAIC,IAAY9C,EAAEmB,GAAG4B,KAMrB/C,EAAEmB,GAAG6B,MAAQ,WACZ,IAAKF,EACJ,OAAOG,KAAKC,KAAKC,MAAMF,KAAMf,WAG9B,IAAIkB,EAAMH,KAAKF,KAAKI,MAAMF,KAAMf,WAEhC,OAAKkB,GAAOA,EAAIC,QAA0B,iBAARD,EAC1BA,EAGDH,KAAKC,KAAKC,MAAMF,KAAMf,YAY9BlC,EAAEmB,GAAGX,WAAa,SAASN,EAASC,EAAMmD,EAAUC,GA+NnD,SAASC,EAAcC,GACtB,IAGIzE,EAAG0E,EAHHC,EAAa3D,EAAE4D,MAAMH,EAAWvD,EAAQ2D,aAAaC,MAAM,KAC3DC,EAAMJ,EAAWpE,OACjByE,KAGJ,IAAKhF,EAAI,EAAGA,EAAI+E,EAAK/E,IAEpB2E,EAAW3E,GAAK2E,EAAW3E,GAAGiF,QAAQ,MAAO,KAC7CP,EAAOC,EAAW3E,GAAG8E,MAAM,KAE3BE,EAAOE,MAAMC,mBAAmBT,EAAK,IAAKS,mBAAmBT,EAAK,MAGnE,OAAOM,EA0ER,SAASI,EAAiBrF,GAyHzB,SAASsF,EAAOC,GAQf,IAAIC,EAAM,KAGV,IACKD,EAAME,gBACTD,EAAMD,EAAME,cAAcC,UAE1B,MAAOC,GAER9C,EAAI,6CAA+C8C,GAGpD,GAAIH,EACH,OAAOA,EAGR,IACCA,EAAMD,EAAMK,gBAAkBL,EAAMK,gBAAkBL,EAAMG,SAC3D,MAAOC,GAER9C,EAAI,sCAAwC8C,GAC5CH,EAAMD,EAAMG,SAGb,OAAOF,EAaR,SAASK,IAgCR,SAASC,IACR,IACC,IAAIC,EAAQT,EAAOU,GAAIC,WAEvBpD,EAAI,WAAakD,GACbA,GAAiC,kBAAxBA,EAAMG,eAClBtD,WAAWkD,EAAY,IAGvB,MAAOrG,GACRoD,EAAI,iBAAkBpD,EAAG,KAAMA,EAAE0G,KAAM,KACvCC,EAAGC,GACCC,GACHC,aAAaD,GAEdA,OAAgB5C,GA7ClB,IAAIhE,EAAI8G,EAAMvC,MAAM,UACnBjE,EAAIwG,EAAMvC,MAAM,UAEhBwC,EAAKD,EAAMrC,KAAK,YAAcqC,EAAMrC,KAAK,aADpC,sBAINtC,EAAK6E,aAAa,SAAUC,GACvBC,IAAU,QAAQC,KAAKD,IAC3B/E,EAAK6E,aAAa,SAAU,QAEzB1G,IAAMH,EAAEiH,KACXjF,EAAK6E,aAAa,SAAU7G,EAAEiH,KAI1BjH,EAAEkH,sBAA0BH,IAAU,QAAQC,KAAKD,IACvDJ,EAAMrC,MACL6C,SAAW,sBACXC,QAAW,wBAKTpH,EAAEqH,UACLZ,EAAgB1D,WAAW,WAC1BuE,GAAW,EAAMf,EAAGgB,IAClBvH,EAAEqH,UAwBN,IAAIG,KAEJ,IACC,GAAIxH,EAAE6E,UACL,IAAK,IAAI/E,KAAKE,EAAE6E,UACX7E,EAAE6E,UAAU4C,eAAe3H,KAE1BsB,EAAEsG,cAAc1H,EAAE6E,UAAU/E,KAAOE,EAAE6E,UAAU/E,GAAG2H,eAAe,SAAWzH,EAAE6E,UAAU/E,GAAG2H,eAAe,SAC7GD,EAAYlC,KACZlE,EAAE,8BAAgCpB,EAAE6E,UAAU/E,GAAGwG,KAAO,KAAMqB,GAAenD,IAAIxE,EAAE6E,UAAU/E,GAAG8H,OAC9FC,SAAS7F,GAAM,IAEjBwF,EAAYlC,KACZlE,EAAE,8BAAgCtB,EAAI,KAAM6H,GAAenD,IAAIxE,EAAE6E,UAAU/E,IACzE+H,SAAS7F,GAAM,KAMhBhC,EAAE8H,cAENC,EAAIF,SAASG,GAGV7B,EAAG8B,YACN9B,EAAG8B,YAAY,SAAU1B,GAEzBJ,EAAG+B,iBAAiB,OAAQ3B,GAAI,GAGjCxD,WAAWkD,EAAY,IAEvB,IACCjE,EAAKmG,SAEJ,MAAOrC,GAEOD,SAASuC,cAAc,QAAQD,OAErC5D,MAAMvC,IAGf,QAEDA,EAAK6E,aAAa,SAAU1G,GAC5B6B,EAAK6E,aAAa,UAAWD,GACzB/G,EACHmC,EAAK6E,aAAa,SAAUhH,GAE5B8G,EAAM0B,WAAW,UAElBjH,EAAEoG,GAAac,UAYjB,SAAS/B,EAAG3G,GACX,IAAI2I,EAAIC,UAAWC,EAAnB,CASA,IALA9C,EAAMF,EAAOU,MAEZnD,EAAI,mCACJpD,EAAI4G,GAED5G,IAAM2H,GAAwBgB,EAIjC,OAHAA,EAAIG,MAAM,gBACVC,EAASC,OAAOL,EAAK,WAIf,GAAI3I,IAAM4G,GAAgB+B,EAIhC,OAHAA,EAAIG,MAAM,qBACVC,EAASC,OAAOL,EAAK,QAAS,gBAK/B,GAAK5C,GAAOA,EAAIkD,SAASC,OAAS9I,EAAE+I,WAE9BzB,EAFN,CAOInB,EAAG6C,YACN7C,EAAG6C,YAAY,SAAUzC,GAEzBJ,EAAG8C,oBAAoB,OAAQ1C,GAAI,GAGpC,IAAwB2C,EAApBC,EAAS,UAEb,IACC,GAAI7B,EACH,KAAM,UAGP,IAAI8B,EAAuB,QAAfpJ,EAAE0E,UAAsBiB,EAAI0D,aAAejI,EAAEkI,SAAS3D,GAIlE,GAFA3C,EAAI,SAAWoG,IAEVA,GAASjI,OAAOqC,QAAuB,OAAbmC,EAAI4D,OAAkB5D,EAAI4D,KAAKC,cACvDC,EAML,OAHAzG,EAAI,oDACJD,WAAWwD,EAAI,KAUjB,IAAImD,EAAU/D,EAAI4D,KAAO5D,EAAI4D,KAAO5D,EAAIgE,gBAExCpB,EAAIqB,aAAeF,EAAUA,EAAQF,UAAY,KACjDjB,EAAIsB,YAAclE,EAAI0D,YAAc1D,EAAI0D,YAAc1D,EAClDyD,IACHpJ,EAAE0E,SAAW,OAEd6D,EAAIuB,kBAAoB,SAASC,GAGhC,OAFeC,eAAgBhK,EAAE0E,UAElBqF,EAAO1D,gBAGnBqD,IACHnB,EAAIY,OAASc,OAAOP,EAAQQ,aAAa,YAAc3B,EAAIY,OAC3DZ,EAAI4B,WAAaT,EAAQQ,aAAa,eAAiB3B,EAAI4B,YAG5D,IAAIC,GAAMpK,EAAE0E,UAAY,IAAI2B,cACxBgE,EAAM,qBAAqBrD,KAAKoD,GAEpC,GAAIC,GAAOrK,EAAEsK,SAAU,CAEtB,IAAIC,EAAK5E,EAAI6E,qBAAqB,YAAY,GAE9C,GAAID,EACHhC,EAAIqB,aAAeW,EAAG3C,MAEtBW,EAAIY,OAASc,OAAOM,EAAGL,aAAa,YAAc3B,EAAIY,OACtDZ,EAAI4B,WAAaI,EAAGL,aAAa,eAAiB3B,EAAI4B,gBAEhD,GAAIE,EAAK,CAEf,IAAII,EAAM9E,EAAI6E,qBAAqB,OAAO,GACtCE,EAAI/E,EAAI6E,qBAAqB,QAAQ,GAErCC,EACHlC,EAAIqB,aAAea,EAAIE,YAAcF,EAAIE,YAAcF,EAAIG,UACjDF,IACVnC,EAAIqB,aAAec,EAAEC,YAAcD,EAAEC,YAAcD,EAAEE,gBAItC,QAAPR,IAAiB7B,EAAIsB,aAAetB,EAAIqB,eAClDrB,EAAIsB,YAAcgB,EAAMtC,EAAIqB,eAG7B,IACCrI,EAAOuJ,EAASvC,EAAK6B,EAAIpK,GAExB,MAAO8F,GACRqD,EAAS,cACTZ,EAAIwC,MAAQ7B,EAAUpD,GAAOqD,GAG7B,MAAOrD,GACR9C,EAAI,iBAAkB8C,GACtBqD,EAAS,QACTZ,EAAIwC,MAAQ7B,EAAUpD,GAAOqD,EAG1BZ,EAAIC,UACPxF,EAAI,kBACJmG,EAAS,MAGNZ,EAAIY,SACPA,EAAWZ,EAAIY,QAAU,KAAOZ,EAAIY,OAAS,KAAuB,MAAfZ,EAAIY,OAAkB,UAAY,SAIzE,YAAXA,GACCnJ,EAAEgL,SACLhL,EAAEgL,QAAQtK,KAAKV,EAAEiL,QAAS1J,EAAM,UAAWgH,GAG5CI,EAASuC,QAAQ3C,EAAIqB,aAAc,UAAWrB,GAE1C4C,GACH/J,EAAEgK,MAAMC,QAAQ,eAAgB9C,EAAKvI,KAG5BmJ,SACY,IAAXD,IACVA,EAASX,EAAI4B,YAEVnK,EAAE+K,OACL/K,EAAE+K,MAAMrK,KAAKV,EAAEiL,QAAS1C,EAAKY,EAAQD,GAEtCP,EAASC,OAAOL,EAAK,QAASW,GAC1BiC,GACH/J,EAAEgK,MAAMC,QAAQ,aAAc9C,EAAKvI,EAAGkJ,KAIpCiC,GACH/J,EAAEgK,MAAMC,QAAQ,gBAAiB9C,EAAKvI,IAGnCmL,MAAQ/J,EAAEkK,QACblK,EAAEgK,MAAMC,QAAQ,YAGbrL,EAAEuL,UACLvL,EAAEuL,SAAS7K,KAAKV,EAAEiL,QAAS1C,EAAKY,GAGjCV,GAAoB,EAChBzI,EAAEqH,SACLX,aAAaD,GAId1D,WAAW,WACL/C,EAAE8H,aAGNC,EAAIzD,KAAK,MAAOtE,EAAE+I,WAFlBhB,EAAIO,SAILC,EAAIsB,YAAc,MAChB,OA/cJ,IAAqB2B,EAAIpL,EAAGJ,EAAGmL,EAAGrE,EAAIiB,EAAK5B,EAAIoC,EAAKkD,EAAK3L,EAAGwH,EAAUb,EAAlEzE,EAAO2E,EAAM,GACbgC,EAAWvH,EAAEsK,WAOjB,GAJA/C,EAASD,MAAQ,SAASS,GACzBZ,EAAIG,MAAMS,IAGPhJ,EAEH,IAAKC,EAAI,EAAGA,EAAIuL,EAAShL,OAAQP,IAChCoL,EAAKpK,EAAEuK,EAASvL,IACZ8D,EACHsH,EAAGrH,KAAK,YAAY,GAEpBqH,EAAGnD,WAAW,aAKjBrI,EAAIoB,EAAEwK,QAAO,KAAUxK,EAAEyK,aAAcvK,IACrC2J,QAAUjL,EAAEiL,SAAWjL,EACzB8G,EAAK,YAAa,IAAIgF,MAAOC,UAC7B,IAAIpE,EAAgB3F,EAAK2F,cACrBK,EAAQrB,EAAMhF,QAAQ,QAgE1B,GA9DI3B,EAAE8H,cAELhI,GADAiI,EAAM3G,EAAEpB,EAAE8H,aAAcH,IAChBvD,MAAM,SAIb0C,EAAKhH,EAFLiI,EAAI3D,MAAM,OAAQ0C,IAMnBiB,EAAM3G,EAAE,iBAAmB0F,EAAK,UAAY9G,EAAE+I,UAAY,OAAQpB,IAC9DqE,KAAKC,SAAU,WAAYrJ,IAAK,UAAWF,KAAM,YAEtDyD,EAAK4B,EAAI,GAGTQ,GACCC,QAAwB,EACxBoB,aAAwB,KACxBC,YAAwB,KACxBV,OAAwB,EACxBgB,WAAwB,MACxB+B,sBAAwB,aACxBpC,kBAAwB,aACxBqC,iBAAwB,aACxBzD,MAAwB,SAASS,GAChC,IAAIvJ,EAAgB,YAAXuJ,EAAuB,UAAY,UAE5CnG,EAAI,sBAAwBpD,GAC5ByE,KAAKmE,QAAU,EAEf,IACKrC,EAAGP,cAAcC,SAASuG,aAC7BjG,EAAGP,cAAcC,SAASuG,YAAY,QAEtC,MAAOC,IAETtE,EAAIzD,KAAK,MAAOtE,EAAE+I,WAClBR,EAAIwC,MAAQnL,EACRI,EAAE+K,OACL/K,EAAE+K,MAAMrK,KAAKV,EAAEiL,QAAS1C,EAAK3I,EAAGuJ,GAG7BgC,GACH/J,EAAEgK,MAAMC,QAAQ,aAAc9C,EAAKvI,EAAGJ,IAGnCI,EAAEuL,UACLvL,EAAEuL,SAAS7K,KAAKV,EAAEiL,QAAS1C,EAAK3I,MAKnCuL,EAAInL,EAAEsM,SAEkB,GAAflL,EAAEkK,UACVlK,EAAEgK,MAAMC,QAAQ,aAEbF,GACH/J,EAAEgK,MAAMC,QAAQ,YAAa9C,EAAKvI,IAG/BA,EAAEuM,aAAuD,IAAzCvM,EAAEuM,WAAW7L,KAAKV,EAAEiL,QAAS1C,EAAKvI,GAMrD,OALIA,EAAEsM,QACLlL,EAAEkK,SAEH3C,EAASC,SAEFD,EAGR,GAAIJ,EAAIC,QAGP,OAFAG,EAASC,SAEFD,GAIR8C,EAAMzJ,EAAKC,OAEVnC,EAAI2L,EAAInF,QACEmF,EAAIe,WACbxM,EAAE6E,UAAY7E,EAAE6E,cAChB7E,EAAE6E,UAAU/E,GAAK2L,EAAI7D,MACJ,UAAb6D,EAAIvJ,OACPlC,EAAE6E,UAAU/E,EAAI,MAAQkC,EAAKI,MAC7BpC,EAAE6E,UAAU/E,EAAI,MAAQkC,EAAKK,QAKhC,IAAIkF,EAAuB,EACvBf,EAAe,EAsCfiG,EAAarL,EAAE,yBAAyBkD,KAAK,WAC7CoI,EAAatL,EAAE,yBAAyBkD,KAAK,WAE7CoI,GAAcD,IACjBzM,EAAE6E,UAAY7E,EAAE6E,cAChB7E,EAAE6E,UAAU6H,GAAcD,GAgHvBzM,EAAE2M,UACL3G,IAEAjD,WAAWiD,EAAU,IAGtB,IAAIzE,EAAMoE,EAAyB8C,EAApBgB,EAAgB,GA2L3BoB,EAAQzJ,EAAEwL,UAAY,SAAS5M,EAAG2F,GAUrC,OATIxE,OAAO0L,gBACVlH,EAAM,IAAIkH,cAAc,qBACpBC,MAAQ,QACZnH,EAAIoH,QAAQ/M,IAGZ2F,GAAM,IAAKqH,WAAaC,gBAAgBjN,EAAG,YAGpC2F,GAAOA,EAAIgE,iBAAoD,gBAAjChE,EAAIgE,gBAAgBuD,SAA8BvH,EAAM,MAE3FwH,EAAY/L,EAAE+L,WAAa,SAASnN,GAEvC,OAAOmB,OAAa,KAAE,IAAMnB,EAAI,MAG7B8K,EAAW,SAASvC,EAAKrG,EAAMlC,GAElC,IAAIoN,EAAK7E,EAAIuB,kBAAkB,iBAAmB,GACjDuD,GAAiB,QAATnL,IAAmBA,IAASkL,EAAGE,QAAQ,QAAU,EACzD/L,EAAO8L,EAAM9E,EAAIsB,YAActB,EAAIqB,aAkBpC,OAhBIyD,GAAyC,gBAAlC9L,EAAKoI,gBAAgBuD,UAC3B9L,EAAE2J,OACL3J,EAAE2J,MAAM,eAGN/K,GAAKA,EAAEuN,aACVhM,EAAOvB,EAAEuN,WAAWhM,EAAMW,IAEP,iBAATX,KACI,SAATW,IAAoBA,IAASkL,EAAGE,QAAQ,SAAW,EACvD/L,EAAO4L,EAAU5L,IACG,WAATW,IAAsBA,IAASkL,EAAGE,QAAQ,eAAiB,GACtElM,EAAEoM,WAAWjM,IAIRA,GAGR,OAAOoH,EAlzBR,IAAKtE,KAAK1D,OAGT,OAFAqC,EAAI,6DAEGqB,KAIR,IAAI0C,EAAQ0G,EAAQxG,EAAKN,EAAQtC,KAEV,mBAAZ/C,EACVA,GAAW0J,QAAS1J,GAES,iBAAZA,IAAqC,IAAZA,GAAqBgC,UAAU3C,OAAS,GAClFW,GACC2F,IAAa3F,EACbC,KAAaA,EACbmD,SAAaA,GAGW,mBAAdC,IACVrD,EAAQ0J,QAAUrG,SAGU,IAAZrD,IACjBA,MAGDyF,EAASzF,EAAQyF,QAAUzF,EAAQY,MAAQmC,KAAKD,MAAM,WAItD6C,GADAA,EAAyB,iBAFzBwG,EAASnM,EAAQ2F,KAAO5C,KAAKD,MAAM,WAEEhD,EAAEsM,KAAKD,GAAU,KACzCtM,OAAO0H,SAASC,MAAQ,MAGpC7B,GAAOA,EAAI0G,MAAM,iBAAmB,IAGrCrM,EAAUF,EAAEwK,QAAO,GAClB3E,IAAYA,EACZ+D,QAAY5J,EAAEyK,aAAab,QAC3B9I,KAAY6E,GAAU3F,EAAEyK,aAAa3J,KACrC6G,UAAY,UAAU/B,KAAK7F,OAAO0H,SAASC,MAAQ,IAAM,mBAAqB,eAC5ExH,GAIH,IAAIsM,KAIJ,GAFAvJ,KAAKgH,QAAQ,sBAAuBhH,KAAM/C,EAASsM,IAE/CA,EAAKA,KAGR,OAFA5K,EAAI,4DAEGqB,KAIR,GAAI/C,EAAQuM,kBAA8D,IAA3CvM,EAAQuM,gBAAgBxJ,KAAM/C,GAG5D,OAFA0B,EAAI,2DAEGqB,KAGR,IAAIY,EAAc3D,EAAQ2D,iBAEC,IAAhBA,IACVA,EAAc7D,EAAEyK,aAAa5G,aAG9B,IACI6I,EADAnC,KACIxL,EAAIkE,KAAK0J,YAAYzM,EAAQ0M,SAAUrC,EAAUrK,EAAQ2M,WAEjE,GAAI3M,EAAQC,KAAM,CACjB,IAAI2M,EAAc9M,EAAE+M,WAAW7M,EAAQC,MAAQD,EAAQC,KAAKpB,GAAKmB,EAAQC,KAEzED,EAAQuD,UAAYqJ,EACpBJ,EAAK1M,EAAE4D,MAAMkJ,EAAajJ,GAI3B,GAAI3D,EAAQ8M,eAA2D,IAA3C9M,EAAQ8M,aAAajO,EAAGkE,KAAM/C,GAGzD,OAFA0B,EAAI,wDAEGqB,KAKR,GADAA,KAAKgH,QAAQ,wBAAyBlL,EAAGkE,KAAM/C,EAASsM,IACpDA,EAAKA,KAGR,OAFA5K,EAAI,8DAEGqB,KAGR,IAAIgK,EAAIjN,EAAE4D,MAAM7E,EAAG8E,GAEf6I,IACHO,EAAKA,EAAKA,EAAI,IAAMP,EAAMA,GAGQ,QAA/BxM,EAAQY,KAAKoM,eAChBhN,EAAQ2F,MAAQ3F,EAAQ2F,IAAIqG,QAAQ,MAAQ,EAAI,IAAM,KAAOe,EAC7D/M,EAAQC,KAAO,MAEfD,EAAQC,KAAO8M,EAGhB,IAAIE,KAeJ,GAbIjN,EAAQkN,WACXD,EAAUjJ,KAAK,WACdqB,EAAM6H,cAIJlN,EAAQmN,WACXF,EAAUjJ,KAAK,WACdqB,EAAM8H,UAAUnN,EAAQoN,kBAKrBpN,EAAQoD,UAAYpD,EAAQI,OAAQ,CACxC,IAAIiN,EAAarN,EAAQ0J,SAAW,aAEpCuD,EAAUjJ,KAAK,SAAS/D,EAAMqN,EAAYC,GACzC,IAAIC,EAAmBxL,UACtBf,EAAKjB,EAAQyN,cAAgB,cAAgB,OAE9C3N,EAAEE,EAAQI,QAAQa,GAAIhB,GAAMyN,KAAK,WAChCL,EAAWpK,MAAMF,KAAMyK,YAIfxN,EAAQ0J,UACd5J,EAAE6N,QAAQ3N,EAAQ0J,SACrB5J,EAAE8N,MAAMX,EAAWjN,EAAQ0J,SAE3BuD,EAAUjJ,KAAKhE,EAAQ0J,UAYzB,GARA1J,EAAQ0J,QAAU,SAASzJ,EAAM4H,EAAQZ,GAGxC,IAAK,IAFD0C,EAAU3J,EAAQ2J,SAAW5G,KAExBjE,EAAI,EAAG+O,EAAMZ,EAAU5N,OAAQP,EAAI+O,EAAK/O,IAChDmO,EAAUnO,GAAGmE,MAAM0G,GAAU1J,EAAM4H,EAAQZ,GAAO5B,EAAOA,KAIvDrF,EAAQyJ,MAAO,CAClB,IAAIqE,EAAW9N,EAAQyJ,MAEvBzJ,EAAQyJ,MAAQ,SAASxC,EAAKY,EAAQ4B,GACrC,IAAIE,EAAU3J,EAAQ2J,SAAW5G,KAEjC+K,EAAS7K,MAAM0G,GAAU1C,EAAKY,EAAQ4B,EAAOpE,KAI/C,GAAIrF,EAAQiK,SAAU,CACrB,IAAI8D,EAAc/N,EAAQiK,SAE1BjK,EAAQiK,SAAW,SAAShD,EAAKY,GAChC,IAAI8B,EAAU3J,EAAQ2J,SAAW5G,KAEjCgL,EAAY9K,MAAM0G,GAAU1C,EAAKY,EAAQxC,KAQ3C,IAGI2I,EAHalO,EAAE,2BAA4BiD,MAAMkL,OAAO,WAC3D,MAAyB,KAAlBnO,EAAEiD,MAAMG,QAEe7D,OAAS,EACpC6O,EAAK,sBACLC,EAAa9I,EAAMrC,KAAK,aAAekL,GAAM7I,EAAMrC,KAAK,cAAgBkL,EACxEE,EAAU/L,EAAQC,SAAWD,EAAQK,SAEzChB,EAAI,YAAc0M,GAElB,IACIC,EADAC,GAAkBN,GAAiBG,KAAeC,GAK/B,IAAnBpO,EAAQuO,SAAqBvO,EAAQuO,QAAUD,GAG9CtO,EAAQwO,eACX1O,EAAE0C,IAAIxC,EAAQwO,eAAgB,WAC7BH,EAAQnK,EAAiBrF,KAI1BwP,EAAQnK,EAAiBrF,GAI1BwP,GADWL,GAAiBG,IAAcC,EAsC3C,SAAuBvP,GAGtB,IAAK,IAFD6D,EAAW,IAAIC,SAEV7D,EAAI,EAAGA,EAAID,EAAEQ,OAAQP,IAC7B4D,EAAS+L,OAAO5P,EAAEC,GAAGkG,KAAMnG,EAAEC,GAAGwH,OAGjC,GAAItG,EAAQuD,UAAW,CACtB,IAAImL,EAAiBpL,EAActD,EAAQuD,WAE3C,IAAKzE,EAAI,EAAGA,EAAI4P,EAAerP,OAAQP,IAClC4P,EAAe5P,IAClB4D,EAAS+L,OAAOC,EAAe5P,GAAG,GAAI4P,EAAe5P,GAAG,IAK3DkB,EAAQC,KAAO,KAEf,IAAIvB,EAAIoB,EAAEwK,QAAO,KAAUxK,EAAEyK,aAAcvK,GAC1C2O,aAAc,EACdC,aAAc,EACdC,OAAc,EACdjO,KAAc6E,GAAU,SAGrBzF,EAAQ8O,iBAEXpQ,EAAEuI,IAAM,WACP,IAAIA,EAAMnH,EAAEyK,aAAatD,MAgBzB,OAdIA,EAAI8H,QACP9H,EAAI8H,OAAOnI,iBAAiB,WAAY,SAASkD,GAChD,IAAIkF,EAAU,EACVrE,EAAWb,EAAMmF,QAAUnF,EAAMa,SACjCuE,EAAQpF,EAAMoF,MAEdpF,EAAMqF,mBACTH,EAAUI,KAAKC,KAAK1E,EAAWuE,EAAQ,MAGxClP,EAAQ8O,eAAehF,EAAOa,EAAUuE,EAAOF,KAC7C,GAGG/H,IAITvI,EAAEuB,KAAO,KAET,IAAIgL,EAAavM,EAAEuM,WAenB,OAbAvM,EAAEuM,WAAa,SAAShE,EAAKtI,GAExBqB,EAAQsP,SACX3Q,EAAEsB,KAAOD,EAAQsP,SAEjB3Q,EAAEsB,KAAOyC,EAGNuI,GACHA,EAAW7L,KAAK2D,KAAMkE,EAAKtI,IAItBmB,EAAEyP,KAAK7Q,IAvGQG,GAGdiB,EAAEyP,KAAKvP,GAGhBqF,EAAMmK,WAAW,SAASvP,KAAK,QAASoO,GAGxC,IAAK,IAAIoB,EAAI,EAAGA,EAAIpF,EAAShL,OAAQoQ,IACpCpF,EAASoF,GAAK,KAMf,OAFA1M,KAAKgH,QAAQ,sBAAuBhH,KAAM/C,IAEnC+C,MA2mBRjD,EAAEmB,GAAGyO,SAAW,SAAS1P,EAASC,EAAMmD,EAAUC,GAiBjD,IAhBuB,iBAAZrD,IAAqC,IAAZA,GAAqBgC,UAAU3C,OAAS,KAC3EW,GACC2F,IAAa3F,EACbC,KAAaA,EACbmD,SAAaA,GAGW,mBAAdC,IACVrD,EAAQ0J,QAAUrG,IAIpBrD,EAAUA,MACVA,EAAQ2P,WAAa3P,EAAQ2P,YAAc7P,EAAE+M,WAAW/M,EAAEmB,GAAG2O,KAGxD5P,EAAQ2P,YAA8B,IAAhB5M,KAAK1D,OAAc,CAC7C,IAAIV,GAAKD,EAAGqE,KAAK8M,SAAUC,EAAG/M,KAAK4G,SAEnC,OAAK7J,EAAEiQ,SAAWpR,EAAED,GACnBgD,EAAI,mCACJ5B,EAAE,WACDA,EAAEnB,EAAED,EAAGC,EAAEmR,GAAGJ,SAAS1P,KAGf+C,OAIRrB,EAAI,gDAAkD5B,EAAEiQ,QAAU,GAAK,qBAEhEhN,MAGR,OAAI/C,EAAQ2P,YACX7P,EAAEyE,UACAyL,IAAI,qBAAsBjN,KAAK8M,SAAU9P,GACzCiQ,IAAI,oBAAqBjN,KAAK8M,SAAUtP,GACxCqP,GAAG,qBAAsB7M,KAAK8M,SAAU7P,EAASD,GACjD6P,GAAG,oBAAqB7M,KAAK8M,SAAU7P,EAASO,GAE3CwC,MAGDA,KAAKkN,iBACVL,GAAG,qBAAsB5P,EAASD,GAClC6P,GAAG,oBAAqB5P,EAASO,IAyDpCT,EAAEmB,GAAGgP,eAAiB,WACrB,OAAOlN,KAAKiN,IAAI,yCAcjBlQ,EAAEmB,GAAGwL,YAAc,SAASC,EAAUrC,EAAUsC,GAC/C,IAAI9N,KAEJ,GAAoB,IAAhBkE,KAAK1D,OACR,OAAOR,EAGR,IAGIqR,EAHAxP,EAAOqC,KAAK,GACZoN,EAASpN,KAAKC,KAAK,MACnBoN,EAAO1D,QAAqC,IAAlBhM,EAAK2J,SAA4B3J,EAAKwI,qBAAqB,KAAOxI,EAAK2J,SAgBrG,GAbI+F,IACHA,EAAMtQ,EAAEuQ,UAAUD,IAKfD,IAAWzD,GAAY,mBAAmBhH,KAAK4K,UAAUC,cAC5DL,EAAOpQ,EAAE,gBAAkBqQ,EAAS,MAAM3N,OACjCnD,SACR+Q,GAAOA,OAAWI,OAAON,KAItBE,IAAQA,EAAI/Q,OAChB,OAAOR,EAGJiB,EAAE+M,WAAWF,KAChByD,EAAMtQ,EAAE2Q,IAAIL,EAAKzD,IAGlB,IAAI7N,EAAG4R,EAAGlS,EAAGmS,EAAGzG,EAAI2D,EAAK+C,EAEzB,IAAK9R,EAAI,EAAG+O,EAAMuC,EAAI/Q,OAAQP,EAAI+O,EAAK/O,IAGtC,GAFAoL,EAAKkG,EAAItR,IACTN,EAAI0L,EAAGlF,QACGkF,EAAGgB,SAIb,GAAIwB,GAAYhM,EAAKC,KAAmB,UAAZuJ,EAAGtJ,KAE1BF,EAAKC,MAAQuJ,IAChBrL,EAAEmF,MAAMgB,KAAMxG,EAAG8H,MAAOxG,EAAEoK,GAAIhH,MAAOtC,KAAMsJ,EAAGtJ,OAC9C/B,EAAEmF,MAAMgB,KAAMxG,EAAI,KAAM8H,MAAO5F,EAAKI,QAASkE,KAAMxG,EAAI,KAAM8H,MAAO5F,EAAKK,cAM3E,IADA4P,EAAI7Q,EAAE+Q,WAAW3G,GAAI,KACZyG,EAAEG,cAAgBjP,MAI1B,IAHIwI,GACHA,EAASrG,KAAKkG,GAEVwG,EAAI,EAAGE,EAAOD,EAAEtR,OAAQqR,EAAIE,EAAMF,IACtC7R,EAAEmF,MAAMgB,KAAMxG,EAAG8H,MAAOqK,EAAED,UAGrB,GAAIrO,EAAQC,SAAuB,SAAZ4H,EAAGtJ,KAAiB,CAC7CyJ,GACHA,EAASrG,KAAKkG,GAGf,IAAIzH,EAAQyH,EAAGzH,MAEf,GAAIA,EAAMpD,OACT,IAAKqR,EAAI,EAAGA,EAAIjO,EAAMpD,OAAQqR,IAC7B7R,EAAEmF,MAAMgB,KAAMxG,EAAG8H,MAAO7D,EAAMiO,GAAI9P,KAAMsJ,EAAGtJ,YAI5C/B,EAAEmF,MAAMgB,KAAMxG,EAAG8H,MAAO,GAAI1F,KAAMsJ,EAAGtJ,YAGtB,OAAN+P,QAA2B,IAANA,IAC3BtG,GACHA,EAASrG,KAAKkG,GAEfrL,EAAEmF,MAAMgB,KAAMxG,EAAG8H,MAAOqK,EAAG/P,KAAMsJ,EAAGtJ,KAAMmQ,SAAU7G,EAAG6G,YAIzD,IAAKrE,GAAYhM,EAAKC,IAAK,CAE1B,IAAIqQ,EAASlR,EAAEY,EAAKC,KAAMsQ,EAAQD,EAAO,IAEzCxS,EAAIyS,EAAMjM,QAEAiM,EAAM/F,UAA2B,UAAf+F,EAAMrQ,OACjC/B,EAAEmF,MAAMgB,KAAMxG,EAAG8H,MAAO0K,EAAO9N,QAC/BrE,EAAEmF,MAAMgB,KAAMxG,EAAI,KAAM8H,MAAO5F,EAAKI,QAASkE,KAAMxG,EAAI,KAAM8H,MAAO5F,EAAKK,SAI3E,OAAOlC,GAORiB,EAAEmB,GAAGiQ,cAAgB,SAASxE,GAE7B,OAAO5M,EAAE4D,MAAMX,KAAK0J,YAAYC,KAOjC5M,EAAEmB,GAAGkQ,eAAiB,SAASC,GAC9B,IAAIvS,KAsBJ,OApBAkE,KAAK2K,KAAK,WACT,IAAIlP,EAAIuE,KAAKiC,KAEb,GAAKxG,EAAL,CAIA,IAAImS,EAAI7Q,EAAE+Q,WAAW9N,KAAMqO,GAE3B,GAAIT,GAAKA,EAAEG,cAAgBjP,MAC1B,IAAK,IAAI/C,EAAI,EAAG+O,EAAM8C,EAAEtR,OAAQP,EAAI+O,EAAK/O,IACxCD,EAAEmF,MAAMgB,KAAMxG,EAAG8H,MAAOqK,EAAE7R,UAGX,OAAN6R,QAA2B,IAANA,GAC/B9R,EAAEmF,MAAMgB,KAAMjC,KAAKiC,KAAMsB,MAAOqK,OAK3B7Q,EAAE4D,MAAM7E,IAyChBiB,EAAEmB,GAAG4P,WAAa,SAASO,GAC1B,IAAK,IAAIlO,KAAUpE,EAAI,EAAG+O,EAAM9K,KAAK1D,OAAQP,EAAI+O,EAAK/O,IAAK,CAC1D,IAAIoL,EAAKnH,KAAKjE,GACV6R,EAAI7Q,EAAE+Q,WAAW3G,EAAIkH,GAEf,OAANT,QAA2B,IAANA,GAAsBA,EAAEG,cAAgBjP,QAAU8O,EAAEtR,SAIzEsR,EAAEG,cAAgBjP,MACrB/B,EAAE8N,MAAM1K,EAAKyN,GAEbzN,EAAIc,KAAK2M,IAIX,OAAOzN,GAMRpD,EAAE+Q,WAAa,SAAS3G,EAAIkH,GAC3B,IAAI5S,EAAI0L,EAAGlF,KAAMzG,EAAI2L,EAAGtJ,KAAMyQ,EAAMnH,EAAGoH,QAAQvM,cAO/C,QAL0B,IAAfqM,IACVA,GAAa,GAIVA,KAAgB5S,GAAK0L,EAAGgB,UAAkB,UAAN3M,GAAuB,WAANA,IACjD,aAANA,GAA0B,UAANA,KAAmB2L,EAAGqH,UACpC,WAANhT,GAAwB,UAANA,IAAkB2L,EAAGxJ,MAAQwJ,EAAGxJ,KAAKC,MAAQuJ,GACxD,WAARmH,IAA0C,IAAtBnH,EAAGsH,eAEvB,OAAO,KAGR,GAAY,WAARH,EAAkB,CACrB,IAAII,EAAQvH,EAAGsH,cAEf,GAAIC,EAAQ,EACX,OAAO,KAOR,IAAK,IAJD5S,KAAQ6S,EAAMxH,EAAGlK,QACjB2R,EAAa,eAANpT,EACPsP,EAAO8D,EAAMF,EAAQ,EAAIC,EAAIrS,OAExBP,EAAK6S,EAAMF,EAAQ,EAAI3S,EAAI+O,EAAK/O,IAAK,CAC7C,IAAI8S,EAAKF,EAAI5S,GAEb,GAAI8S,EAAGC,WAAaD,EAAG1G,SAAU,CAChC,IAAIyF,EAAIiB,EAAGtL,MAMX,GAJKqK,IACJA,EAAKiB,EAAGE,YAAcF,EAAGE,WAAWxL,QAAWsL,EAAGE,WAAWxL,MAAe,UAAKsL,EAAGG,KAAOH,EAAGtL,OAG3FqL,EACH,OAAOhB,EAGR9R,EAAEmF,KAAK2M,IAIT,OAAO9R,EAGR,OAAOiB,EAAEoK,GAAIhH,MAAMa,QAAQ3B,EAAO,SAWnCtC,EAAEmB,GAAGkM,UAAY,SAASC,GACzB,OAAOrK,KAAK2K,KAAK,WAChB5N,EAAE,wBAAyBiD,MAAMiP,YAAY5E,MAO/CtN,EAAEmB,GAAG+Q,YAAclS,EAAEmB,GAAGgR,YAAc,SAAS7E,GAC9C,IAAI8E,EAAK,6FAET,OAAOnP,KAAK2K,KAAK,WAChB,IAAInP,EAAIwE,KAAKnC,KAAMyQ,EAAMtO,KAAKuO,QAAQvM,cAElCmN,EAAGxM,KAAKnH,IAAc,aAAR8S,EACjBtO,KAAKuD,MAAQ,GAEG,aAAN/H,GAA0B,UAANA,EAC9BwE,KAAKwO,SAAU,EAEG,WAARF,EACVtO,KAAKyO,eAAiB,EAEN,SAANjT,EACN,OAAOmH,KAAK4K,UAAUC,WACzBzQ,EAAEiD,MAAMoP,YAAYrS,EAAEiD,MAAMqP,OAAM,IAElCtS,EAAEiD,MAAMG,IAAI,IAGHkK,KAKa,IAAlBA,GAA0B,SAAS1H,KAAKnH,IAClB,iBAAlB6O,GAA8BtN,EAAEiD,MAAMtC,GAAG2M,MACjDrK,KAAKuD,MAAQ,OAiBjBxG,EAAEmB,GAAGiM,UAAY,WAChB,OAAOnK,KAAK2K,KAAK,WAChB,IAAIxD,EAAKpK,EAAEiD,MACPsO,EAAMtO,KAAKuO,QAAQvM,cAEvB,OAAQsM,GACR,IAAK,QACJtO,KAAKwO,QAAUxO,KAAKsP,eAGrB,IAAK,WAGJ,OAFAtP,KAAKuD,MAAQvD,KAAKuP,cAEX,EAER,IAAK,SACL,IAAK,WACJ,IAAIC,EAASrI,EAAGsI,QAAQ,UAYxB,OAVID,EAAOlT,QAAUkT,EAAO,GAAGE,SAClB,WAARpB,EACHtO,KAAK8O,SAAW9O,KAAK2P,gBAErBxI,EAAGyI,KAAK,UAAUzF,YAGnBqF,EAAOrF,aAGD,EAER,IAAK,SAUJ,OATAhD,EAAGyI,KAAK,UAAUjF,KAAK,SAAS5O,GAE/B,GADAiE,KAAK8O,SAAW9O,KAAK2P,gBACjB3P,KAAK2P,kBAAoBxI,EAAG,GAAGuI,SAGlC,OAFAvI,EAAG,GAAGsH,cAAgB1S,GAEf,KAIF,EAER,IAAK,QACJ,IAAI8T,EAAQ9S,EAAEoK,EAAGlH,KAAK,QAClB6P,EAAO3I,EAAGyI,KAAK,yBAQnB,OANIC,EAAM,IACTC,EAAKC,QAAQF,EAAM,IAGpBC,EAAK3F,aAEE,EAER,IAAK,OAOJ,OAJ0B,mBAAfnK,KAAKgQ,OAA+C,iBAAfhQ,KAAKgQ,QAAuBhQ,KAAKgQ,MAAMC,WACtFjQ,KAAKgQ,SAGC,EAER,QAGC,OAFA7I,EAAGyI,KAAK,oCAAoCzF,aAErC,MAQVpN,EAAEmB,GAAGgS,OAAS,SAAS7J,GAKtB,YAJiB,IAANA,IACVA,GAAI,GAGErG,KAAK2K,KAAK,WAChB3K,KAAKmI,UAAY9B,KAQnBtJ,EAAEmB,GAAG4Q,SAAW,SAASU,GAKxB,YAJsB,IAAXA,IACVA,GAAS,GAGHxP,KAAK2K,KAAK,WAChB,IAAInP,EAAIwE,KAAKnC,KAEb,GAAU,aAANrC,GAA0B,UAANA,EACvBwE,KAAKwO,QAAUgB,OAET,GAAmC,WAA/BxP,KAAKuO,QAAQvM,cAA4B,CACnD,IAAImO,EAAOpT,EAAEiD,MAAMoQ,OAAO,UAEtBZ,GAAUW,EAAK,IAAuB,eAAjBA,EAAK,GAAGtS,MAEhCsS,EAAKP,KAAK,UAAUd,UAAS,GAG9B9O,KAAK8O,SAAWU,MAMnBzS,EAAEmB,GAAGX,WAAWqB,OAAQ,MAmBtBwB,YAASZ","file":"jquery-form.min.js","sourcesContent":["require=(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({\"jquery-form\":[function(require,module,exports){\n/*!\n * jQuery Form Plugin\n * version: 4.2.1\n * Requires jQuery v1.7 or later\n * Copyright 2017 Kevin Morris\n * Copyright 2006 M. Alsup\n * Project repository: https://github.com/jquery-form/form\n * Dual licensed under the MIT and LGPLv3 licenses.\n * https://github.com/jquery-form/form#license\n */\n/* global ActiveXObject */\n\n/* eslint-disable */\n(function (factory) {\n\tif (typeof define === 'function' && define.amd) {\n\t\t// AMD. Register as an anonymous module.\n\t\tdefine(['jquery'], factory);\n\t} else if (typeof module === 'object' && module.exports) {\n\t\t// Node/CommonJS\n\t\tmodule.exports = function( root, jQuery ) {\n\t\t\tif (typeof jQuery === 'undefined') {\n\t\t\t\t// require('jQuery') returns a factory that requires window to build a jQuery instance, we normalize how we use modules\n\t\t\t\t// that require this pattern but the window provided is a noop if it's defined (how jquery works)\n\t\t\t\tif (typeof window !== 'undefined') {\n\t\t\t\t\tjQuery = require('jquery');\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tjQuery = require('jquery')(root);\n\t\t\t\t}\n\t\t\t}\n\t\t\tfactory(jQuery);\n\t\t\treturn jQuery;\n\t\t};\n\t} else {\n\t\t// Browser globals\n\t\tfactory(jQuery);\n\t}\n\n}(function ($) {\n/* eslint-enable */\n\t'use strict';\n\n\t/*\n\t\tUsage Note:\n\t\t-----------\n\t\tDo not use both ajaxSubmit and ajaxForm on the same form. These\n\t\tfunctions are mutually exclusive. Use ajaxSubmit if you want\n\t\tto bind your own submit handler to the form. For example,\n\n\t\t$(document).ready(function() {\n\t\t\t$('#myForm').on('submit', function(e) {\n\t\t\t\te.preventDefault(); // <-- important\n\t\t\t\t$(this).ajaxSubmit({\n\t\t\t\t\ttarget: '#output'\n\t\t\t\t});\n\t\t\t});\n\t\t});\n\n\t\tUse ajaxForm when you want the plugin to manage all the event binding\n\t\tfor you. For example,\n\n\t\t$(document).ready(function() {\n\t\t\t$('#myForm').ajaxForm({\n\t\t\t\ttarget: '#output'\n\t\t\t});\n\t\t});\n\n\t\tYou can also use ajaxForm with delegation (requires jQuery v1.7+), so the\n\t\tform does not have to exist when you invoke ajaxForm:\n\n\t\t$('#myForm').ajaxForm({\n\t\t\tdelegation: true,\n\t\t\ttarget: '#output'\n\t\t});\n\n\t\tWhen using ajaxForm, the ajaxSubmit function will be invoked for you\n\t\tat the appropriate time.\n\t*/\n\n\tvar rCRLF = /\\r?\\n/g;\n\n\t/**\n\t * Feature detection\n\t */\n\tvar feature = {};\n\n\tfeature.fileapi = $('<input type=\"file\">').get(0).files !== undefined;\n\tfeature.formdata = (typeof window.FormData !== 'undefined');\n\n\tvar hasProp = !!$.fn.prop;\n\n\t// attr2 uses prop when it can but checks the return type for\n\t// an expected string. This accounts for the case where a form\n\t// contains inputs with names like \"action\" or \"method\"; in those\n\t// cases \"prop\" returns the element\n\t$.fn.attr2 = function() {\n\t\tif (!hasProp) {\n\t\t\treturn this.attr.apply(this, arguments);\n\t\t}\n\n\t\tvar val = this.prop.apply(this, arguments);\n\n\t\tif ((val && val.jquery) || typeof val === 'string') {\n\t\t\treturn val;\n\t\t}\n\n\t\treturn this.attr.apply(this, arguments);\n\t};\n\n\t/**\n\t * ajaxSubmit() provides a mechanism for immediately submitting\n\t * an HTML form using AJAX.\n\t *\n\t * @param\t{object|string}\toptions\t\tjquery.form.js parameters or custom url for submission\n\t * @param\t{object}\t\tdata\t\textraData\n\t * @param\t{string}\t\tdataType\tajax dataType\n\t * @param\t{function}\t\tonSuccess\tajax success callback function\n\t */\n\t$.fn.ajaxSubmit = function(options, data, dataType, onSuccess) {\n\t\t// fast fail if nothing selected (http://dev.jquery.com/ticket/2752)\n\t\tif (!this.length) {\n\t\t\tlog('ajaxSubmit: skipping submit process - no element selected');\n\n\t\t\treturn this;\n\t\t}\n\n\t\t/* eslint consistent-this: [\"error\", \"$form\"] */\n\t\tvar method, action, url, $form = this;\n\n\t\tif (typeof options === 'function') {\n\t\t\toptions = {success: options};\n\n\t\t} else if (typeof options === 'string' || (options === false && arguments.length > 0)) {\n\t\t\toptions = {\n\t\t\t\t'url'      : options,\n\t\t\t\t'data'     : data,\n\t\t\t\t'dataType' : dataType\n\t\t\t};\n\n\t\t\tif (typeof onSuccess === 'function') {\n\t\t\t\toptions.success = onSuccess;\n\t\t\t}\n\n\t\t} else if (typeof options === 'undefined') {\n\t\t\toptions = {};\n\t\t}\n\n\t\tmethod = options.method || options.type || this.attr2('method');\n\t\taction = options.url || this.attr2('action');\n\n\t\turl = (typeof action === 'string') ? $.trim(action) : '';\n\t\turl = url || window.location.href || '';\n\t\tif (url) {\n\t\t\t// clean url (don't include hash vaue)\n\t\t\turl = (url.match(/^([^#]+)/) || [])[1];\n\t\t}\n\n\t\toptions = $.extend(true, {\n\t\t\turl       : url,\n\t\t\tsuccess   : $.ajaxSettings.success,\n\t\t\ttype      : method || $.ajaxSettings.type,\n\t\t\tiframeSrc : /^https/i.test(window.location.href || '') ? 'javascript:false' : 'about:blank'\t\t// eslint-disable-line no-script-url\n\t\t}, options);\n\n\t\t// hook for manipulating the form data before it is extracted;\n\t\t// convenient for use with rich editors like tinyMCE or FCKEditor\n\t\tvar veto = {};\n\n\t\tthis.trigger('form-pre-serialize', [this, options, veto]);\n\n\t\tif (veto.veto) {\n\t\t\tlog('ajaxSubmit: submit vetoed via form-pre-serialize trigger');\n\n\t\t\treturn this;\n\t\t}\n\n\t\t// provide opportunity to alter form data before it is serialized\n\t\tif (options.beforeSerialize && options.beforeSerialize(this, options) === false) {\n\t\t\tlog('ajaxSubmit: submit aborted via beforeSerialize callback');\n\n\t\t\treturn this;\n\t\t}\n\n\t\tvar traditional = options.traditional;\n\n\t\tif (typeof traditional === 'undefined') {\n\t\t\ttraditional = $.ajaxSettings.traditional;\n\t\t}\n\n\t\tvar elements = [];\n\t\tvar qx, a = this.formToArray(options.semantic, elements, options.filtering);\n\n\t\tif (options.data) {\n\t\t\tvar optionsData = $.isFunction(options.data) ? options.data(a) : options.data;\n\n\t\t\toptions.extraData = optionsData;\n\t\t\tqx = $.param(optionsData, traditional);\n\t\t}\n\n\t\t// give pre-submit callback an opportunity to abort the submit\n\t\tif (options.beforeSubmit && options.beforeSubmit(a, this, options) === false) {\n\t\t\tlog('ajaxSubmit: submit aborted via beforeSubmit callback');\n\n\t\t\treturn this;\n\t\t}\n\n\t\t// fire vetoable 'validate' event\n\t\tthis.trigger('form-submit-validate', [a, this, options, veto]);\n\t\tif (veto.veto) {\n\t\t\tlog('ajaxSubmit: submit vetoed via form-submit-validate trigger');\n\n\t\t\treturn this;\n\t\t}\n\n\t\tvar q = $.param(a, traditional);\n\n\t\tif (qx) {\n\t\t\tq = (q ? (q + '&' + qx) : qx);\n\t\t}\n\n\t\tif (options.type.toUpperCase() === 'GET') {\n\t\t\toptions.url += (options.url.indexOf('?') >= 0 ? '&' : '?') + q;\n\t\t\toptions.data = null;\t// data is null for 'get'\n\t\t} else {\n\t\t\toptions.data = q;\t\t// data is the query string for 'post'\n\t\t}\n\n\t\tvar callbacks = [];\n\n\t\tif (options.resetForm) {\n\t\t\tcallbacks.push(function() {\n\t\t\t\t$form.resetForm();\n\t\t\t});\n\t\t}\n\n\t\tif (options.clearForm) {\n\t\t\tcallbacks.push(function() {\n\t\t\t\t$form.clearForm(options.includeHidden);\n\t\t\t});\n\t\t}\n\n\t\t// perform a load on the target only if dataType is not provided\n\t\tif (!options.dataType && options.target) {\n\t\t\tvar oldSuccess = options.success || function(){};\n\n\t\t\tcallbacks.push(function(data, textStatus, jqXHR) {\n\t\t\t\tvar successArguments = arguments,\n\t\t\t\t\tfn = options.replaceTarget ? 'replaceWith' : 'html';\n\n\t\t\t\t$(options.target)[fn](data).each(function(){\n\t\t\t\t\toldSuccess.apply(this, successArguments);\n\t\t\t\t});\n\t\t\t});\n\n\t\t} else if (options.success) {\n\t\t\tif ($.isArray(options.success)) {\n\t\t\t\t$.merge(callbacks, options.success);\n\t\t\t} else {\n\t\t\t\tcallbacks.push(options.success);\n\t\t\t}\n\t\t}\n\n\t\toptions.success = function(data, status, xhr) { // jQuery 1.4+ passes xhr as 3rd arg\n\t\t\tvar context = options.context || this;\t\t// jQuery 1.4+ supports scope context\n\n\t\t\tfor (var i = 0, max = callbacks.length; i < max; i++) {\n\t\t\t\tcallbacks[i].apply(context, [data, status, xhr || $form, $form]);\n\t\t\t}\n\t\t};\n\n\t\tif (options.error) {\n\t\t\tvar oldError = options.error;\n\n\t\t\toptions.error = function(xhr, status, error) {\n\t\t\t\tvar context = options.context || this;\n\n\t\t\t\toldError.apply(context, [xhr, status, error, $form]);\n\t\t\t};\n\t\t}\n\n\t\tif (options.complete) {\n\t\t\tvar oldComplete = options.complete;\n\n\t\t\toptions.complete = function(xhr, status) {\n\t\t\t\tvar context = options.context || this;\n\n\t\t\t\toldComplete.apply(context, [xhr, status, $form]);\n\t\t\t};\n\t\t}\n\n\t\t// are there files to upload?\n\n\t\t// [value] (issue #113), also see comment:\n\t\t// https://github.com/malsup/form/commit/588306aedba1de01388032d5f42a60159eea9228#commitcomment-2180219\n\t\tvar fileInputs = $('input[type=file]:enabled', this).filter(function() {\n\t\t\treturn $(this).val() !== '';\n\t\t});\n\t\tvar hasFileInputs = fileInputs.length > 0;\n\t\tvar mp = 'multipart/form-data';\n\t\tvar multipart = ($form.attr('enctype') === mp || $form.attr('encoding') === mp);\n\t\tvar fileAPI = feature.fileapi && feature.formdata;\n\n\t\tlog('fileAPI :' + fileAPI);\n\n\t\tvar shouldUseFrame = (hasFileInputs || multipart) && !fileAPI;\n\t\tvar jqxhr;\n\n\t\t// options.iframe allows user to force iframe mode\n\t\t// 06-NOV-09: now defaulting to iframe mode if file input is detected\n\t\tif (options.iframe !== false && (options.iframe || shouldUseFrame)) {\n\t\t\t// hack to fix Safari hang (thanks to Tim Molendijk for this)\n\t\t\t// see: http://groups.google.com/group/jquery-dev/browse_thread/thread/36395b7ab510dd5d\n\t\t\tif (options.closeKeepAlive) {\n\t\t\t\t$.get(options.closeKeepAlive, function() {\n\t\t\t\t\tjqxhr = fileUploadIframe(a);\n\t\t\t\t});\n\n\t\t\t} else {\n\t\t\t\tjqxhr = fileUploadIframe(a);\n\t\t\t}\n\n\t\t} else if ((hasFileInputs || multipart) && fileAPI) {\n\t\t\tjqxhr = fileUploadXhr(a);\n\n\t\t} else {\n\t\t\tjqxhr = $.ajax(options);\n\t\t}\n\n\t\t$form.removeData('jqxhr').data('jqxhr', jqxhr);\n\n\t\t// clear element array\n\t\tfor (var k = 0; k < elements.length; k++) {\n\t\t\telements[k] = null;\n\t\t}\n\n\t\t// fire 'notify' event\n\t\tthis.trigger('form-submit-notify', [this, options]);\n\n\t\treturn this;\n\n\t\t// utility fn for deep serialization\n\t\tfunction deepSerialize(extraData) {\n\t\t\tvar serialized = $.param(extraData, options.traditional).split('&');\n\t\t\tvar len = serialized.length;\n\t\t\tvar result = [];\n\t\t\tvar i, part;\n\n\t\t\tfor (i = 0; i < len; i++) {\n\t\t\t\t// #252; undo param space replacement\n\t\t\t\tserialized[i] = serialized[i].replace(/\\+/g, ' ');\n\t\t\t\tpart = serialized[i].split('=');\n\t\t\t\t// #278; use array instead of object storage, favoring array serializations\n\t\t\t\tresult.push([decodeURIComponent(part[0]), decodeURIComponent(part[1])]);\n\t\t\t}\n\n\t\t\treturn result;\n\t\t}\n\n\t\t// XMLHttpRequest Level 2 file uploads (big hat tip to francois2metz)\n\t\tfunction fileUploadXhr(a) {\n\t\t\tvar formdata = new FormData();\n\n\t\t\tfor (var i = 0; i < a.length; i++) {\n\t\t\t\tformdata.append(a[i].name, a[i].value);\n\t\t\t}\n\n\t\t\tif (options.extraData) {\n\t\t\t\tvar serializedData = deepSerialize(options.extraData);\n\n\t\t\t\tfor (i = 0; i < serializedData.length; i++) {\n\t\t\t\t\tif (serializedData[i]) {\n\t\t\t\t\t\tformdata.append(serializedData[i][0], serializedData[i][1]);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\toptions.data = null;\n\n\t\t\tvar s = $.extend(true, {}, $.ajaxSettings, options, {\n\t\t\t\tcontentType : false,\n\t\t\t\tprocessData : false,\n\t\t\t\tcache       : false,\n\t\t\t\ttype        : method || 'POST'\n\t\t\t});\n\n\t\t\tif (options.uploadProgress) {\n\t\t\t\t// workaround because jqXHR does not expose upload property\n\t\t\t\ts.xhr = function() {\n\t\t\t\t\tvar xhr = $.ajaxSettings.xhr();\n\n\t\t\t\t\tif (xhr.upload) {\n\t\t\t\t\t\txhr.upload.addEventListener('progress', function(event) {\n\t\t\t\t\t\t\tvar percent = 0;\n\t\t\t\t\t\t\tvar position = event.loaded || event.position;\t\t\t/* event.position is deprecated */\n\t\t\t\t\t\t\tvar total = event.total;\n\n\t\t\t\t\t\t\tif (event.lengthComputable) {\n\t\t\t\t\t\t\t\tpercent = Math.ceil(position / total * 100);\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\toptions.uploadProgress(event, position, total, percent);\n\t\t\t\t\t\t}, false);\n\t\t\t\t\t}\n\n\t\t\t\t\treturn xhr;\n\t\t\t\t};\n\t\t\t}\n\n\t\t\ts.data = null;\n\n\t\t\tvar beforeSend = s.beforeSend;\n\n\t\t\ts.beforeSend = function(xhr, o) {\n\t\t\t\t// Send FormData() provided by user\n\t\t\t\tif (options.formData) {\n\t\t\t\t\to.data = options.formData;\n\t\t\t\t} else {\n\t\t\t\t\to.data = formdata;\n\t\t\t\t}\n\n\t\t\t\tif (beforeSend) {\n\t\t\t\t\tbeforeSend.call(this, xhr, o);\n\t\t\t\t}\n\t\t\t};\n\n\t\t\treturn $.ajax(s);\n\t\t}\n\n\t\t// private function for handling file uploads (hat tip to YAHOO!)\n\t\tfunction fileUploadIframe(a) {\n\t\t\tvar form = $form[0], el, i, s, g, id, $io, io, xhr, sub, n, timedOut, timeoutHandle;\n\t\t\tvar deferred = $.Deferred();\n\n\t\t\t// #341\n\t\t\tdeferred.abort = function(status) {\n\t\t\t\txhr.abort(status);\n\t\t\t};\n\n\t\t\tif (a) {\n\t\t\t\t// ensure that every serialized input is still enabled\n\t\t\t\tfor (i = 0; i < elements.length; i++) {\n\t\t\t\t\tel = $(elements[i]);\n\t\t\t\t\tif (hasProp) {\n\t\t\t\t\t\tel.prop('disabled', false);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tel.removeAttr('disabled');\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\ts = $.extend(true, {}, $.ajaxSettings, options);\n\t\t\ts.context = s.context || s;\n\t\t\tid = 'jqFormIO' + new Date().getTime();\n\t\t\tvar ownerDocument = form.ownerDocument;\n\t\t\tvar $body = $form.closest('body');\n\n\t\t\tif (s.iframeTarget) {\n\t\t\t\t$io = $(s.iframeTarget, ownerDocument);\n\t\t\t\tn = $io.attr2('name');\n\t\t\t\tif (!n) {\n\t\t\t\t\t$io.attr2('name', id);\n\t\t\t\t} else {\n\t\t\t\t\tid = n;\n\t\t\t\t}\n\n\t\t\t} else {\n\t\t\t\t$io = $('<iframe name=\"' + id + '\" src=\"' + s.iframeSrc + '\" />', ownerDocument);\n\t\t\t\t$io.css({position: 'absolute', top: '-1000px', left: '-1000px'});\n\t\t\t}\n\t\t\tio = $io[0];\n\n\n\t\t\txhr = { // mock object\n\t\t\t\taborted               : 0,\n\t\t\t\tresponseText          : null,\n\t\t\t\tresponseXML           : null,\n\t\t\t\tstatus                : 0,\n\t\t\t\tstatusText            : 'n/a',\n\t\t\t\tgetAllResponseHeaders : function() {},\n\t\t\t\tgetResponseHeader     : function() {},\n\t\t\t\tsetRequestHeader      : function() {},\n\t\t\t\tabort                 : function(status) {\n\t\t\t\t\tvar e = (status === 'timeout' ? 'timeout' : 'aborted');\n\n\t\t\t\t\tlog('aborting upload... ' + e);\n\t\t\t\t\tthis.aborted = 1;\n\n\t\t\t\t\ttry { // #214, #257\n\t\t\t\t\t\tif (io.contentWindow.document.execCommand) {\n\t\t\t\t\t\t\tio.contentWindow.document.execCommand('Stop');\n\t\t\t\t\t\t}\n\t\t\t\t\t} catch (ignore) {}\n\n\t\t\t\t\t$io.attr('src', s.iframeSrc); // abort op in progress\n\t\t\t\t\txhr.error = e;\n\t\t\t\t\tif (s.error) {\n\t\t\t\t\t\ts.error.call(s.context, xhr, e, status);\n\t\t\t\t\t}\n\n\t\t\t\t\tif (g) {\n\t\t\t\t\t\t$.event.trigger('ajaxError', [xhr, s, e]);\n\t\t\t\t\t}\n\n\t\t\t\t\tif (s.complete) {\n\t\t\t\t\t\ts.complete.call(s.context, xhr, e);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tg = s.global;\n\t\t\t// trigger ajax global events so that activity/block indicators work like normal\n\t\t\tif (g && $.active++ === 0) {\n\t\t\t\t$.event.trigger('ajaxStart');\n\t\t\t}\n\t\t\tif (g) {\n\t\t\t\t$.event.trigger('ajaxSend', [xhr, s]);\n\t\t\t}\n\n\t\t\tif (s.beforeSend && s.beforeSend.call(s.context, xhr, s) === false) {\n\t\t\t\tif (s.global) {\n\t\t\t\t\t$.active--;\n\t\t\t\t}\n\t\t\t\tdeferred.reject();\n\n\t\t\t\treturn deferred;\n\t\t\t}\n\n\t\t\tif (xhr.aborted) {\n\t\t\t\tdeferred.reject();\n\n\t\t\t\treturn deferred;\n\t\t\t}\n\n\t\t\t// add submitting element to data if we know it\n\t\t\tsub = form.clk;\n\t\t\tif (sub) {\n\t\t\t\tn = sub.name;\n\t\t\t\tif (n && !sub.disabled) {\n\t\t\t\t\ts.extraData = s.extraData || {};\n\t\t\t\t\ts.extraData[n] = sub.value;\n\t\t\t\t\tif (sub.type === 'image') {\n\t\t\t\t\t\ts.extraData[n + '.x'] = form.clk_x;\n\t\t\t\t\t\ts.extraData[n + '.y'] = form.clk_y;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tvar CLIENT_TIMEOUT_ABORT = 1;\n\t\t\tvar SERVER_ABORT = 2;\n\n\t\t\tfunction getDoc(frame) {\n\t\t\t\t/* it looks like contentWindow or contentDocument do not\n\t\t\t\t * carry the protocol property in ie8, when running under ssl\n\t\t\t\t * frame.document is the only valid response document, since\n\t\t\t\t * the protocol is know but not on the other two objects. strange?\n\t\t\t\t * \"Same origin policy\" http://en.wikipedia.org/wiki/Same_origin_policy\n\t\t\t\t */\n\n\t\t\t\tvar doc = null;\n\n\t\t\t\t// IE8 cascading access check\n\t\t\t\ttry {\n\t\t\t\t\tif (frame.contentWindow) {\n\t\t\t\t\t\tdoc = frame.contentWindow.document;\n\t\t\t\t\t}\n\t\t\t\t} catch (err) {\n\t\t\t\t\t// IE8 access denied under ssl & missing protocol\n\t\t\t\t\tlog('cannot get iframe.contentWindow document: ' + err);\n\t\t\t\t}\n\n\t\t\t\tif (doc) { // successful getting content\n\t\t\t\t\treturn doc;\n\t\t\t\t}\n\n\t\t\t\ttry { // simply checking may throw in ie8 under ssl or mismatched protocol\n\t\t\t\t\tdoc = frame.contentDocument ? frame.contentDocument : frame.document;\n\t\t\t\t} catch (err) {\n\t\t\t\t\t// last attempt\n\t\t\t\t\tlog('cannot get iframe.contentDocument: ' + err);\n\t\t\t\t\tdoc = frame.document;\n\t\t\t\t}\n\n\t\t\t\treturn doc;\n\t\t\t}\n\n\t\t\t// Rails CSRF hack (thanks to Yvan Barthelemy)\n\t\t\tvar csrf_token = $('meta[name=csrf-token]').attr('content');\n\t\t\tvar csrf_param = $('meta[name=csrf-param]').attr('content');\n\n\t\t\tif (csrf_param && csrf_token) {\n\t\t\t\ts.extraData = s.extraData || {};\n\t\t\t\ts.extraData[csrf_param] = csrf_token;\n\t\t\t}\n\n\t\t\t// take a breath so that pending repaints get some cpu time before the upload starts\n\t\t\tfunction doSubmit() {\n\t\t\t\t// make sure form attrs are set\n\t\t\t\tvar t = $form.attr2('target'),\n\t\t\t\t\ta = $form.attr2('action'),\n\t\t\t\t\tmp = 'multipart/form-data',\n\t\t\t\t\tet = $form.attr('enctype') || $form.attr('encoding') || mp;\n\n\t\t\t\t// update form attrs in IE friendly way\n\t\t\t\tform.setAttribute('target', id);\n\t\t\t\tif (!method || /post/i.test(method)) {\n\t\t\t\t\tform.setAttribute('method', 'POST');\n\t\t\t\t}\n\t\t\t\tif (a !== s.url) {\n\t\t\t\t\tform.setAttribute('action', s.url);\n\t\t\t\t}\n\n\t\t\t\t// ie borks in some cases when setting encoding\n\t\t\t\tif (!s.skipEncodingOverride && (!method || /post/i.test(method))) {\n\t\t\t\t\t$form.attr({\n\t\t\t\t\t\tencoding : 'multipart/form-data',\n\t\t\t\t\t\tenctype  : 'multipart/form-data'\n\t\t\t\t\t});\n\t\t\t\t}\n\n\t\t\t\t// support timout\n\t\t\t\tif (s.timeout) {\n\t\t\t\t\ttimeoutHandle = setTimeout(function() {\n\t\t\t\t\t\ttimedOut = true; cb(CLIENT_TIMEOUT_ABORT);\n\t\t\t\t\t}, s.timeout);\n\t\t\t\t}\n\n\t\t\t\t// look for server aborts\n\t\t\t\tfunction checkState() {\n\t\t\t\t\ttry {\n\t\t\t\t\t\tvar state = getDoc(io).readyState;\n\n\t\t\t\t\t\tlog('state = ' + state);\n\t\t\t\t\t\tif (state && state.toLowerCase() === 'uninitialized') {\n\t\t\t\t\t\t\tsetTimeout(checkState, 50);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t} catch (e) {\n\t\t\t\t\t\tlog('Server abort: ', e, ' (', e.name, ')');\n\t\t\t\t\t\tcb(SERVER_ABORT);\t\t\t\t// eslint-disable-line callback-return\n\t\t\t\t\t\tif (timeoutHandle) {\n\t\t\t\t\t\t\tclearTimeout(timeoutHandle);\n\t\t\t\t\t\t}\n\t\t\t\t\t\ttimeoutHandle = undefined;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// add \"extra\" data to form if provided in options\n\t\t\t\tvar extraInputs = [];\n\n\t\t\t\ttry {\n\t\t\t\t\tif (s.extraData) {\n\t\t\t\t\t\tfor (var n in s.extraData) {\n\t\t\t\t\t\t\tif (s.extraData.hasOwnProperty(n)) {\n\t\t\t\t\t\t\t\t// if using the $.param format that allows for multiple values with the same name\n\t\t\t\t\t\t\t\tif ($.isPlainObject(s.extraData[n]) && s.extraData[n].hasOwnProperty('name') && s.extraData[n].hasOwnProperty('value')) {\n\t\t\t\t\t\t\t\t\textraInputs.push(\n\t\t\t\t\t\t\t\t\t$('<input type=\"hidden\" name=\"' + s.extraData[n].name + '\">', ownerDocument).val(s.extraData[n].value)\n\t\t\t\t\t\t\t\t\t\t.appendTo(form)[0]);\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\textraInputs.push(\n\t\t\t\t\t\t\t\t\t$('<input type=\"hidden\" name=\"' + n + '\">', ownerDocument).val(s.extraData[n])\n\t\t\t\t\t\t\t\t\t\t.appendTo(form)[0]);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tif (!s.iframeTarget) {\n\t\t\t\t\t\t// add iframe to doc and submit the form\n\t\t\t\t\t\t$io.appendTo($body);\n\t\t\t\t\t}\n\n\t\t\t\t\tif (io.attachEvent) {\n\t\t\t\t\t\tio.attachEvent('onload', cb);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tio.addEventListener('load', cb, false);\n\t\t\t\t\t}\n\n\t\t\t\t\tsetTimeout(checkState, 15);\n\n\t\t\t\t\ttry {\n\t\t\t\t\t\tform.submit();\n\n\t\t\t\t\t} catch (err) {\n\t\t\t\t\t\t// just in case form has element with name/id of 'submit'\n\t\t\t\t\t\tvar submitFn = document.createElement('form').submit;\n\n\t\t\t\t\t\tsubmitFn.apply(form);\n\t\t\t\t\t}\n\n\t\t\t\t} finally {\n\t\t\t\t\t// reset attrs and remove \"extra\" input elements\n\t\t\t\t\tform.setAttribute('action', a);\n\t\t\t\t\tform.setAttribute('enctype', et); // #380\n\t\t\t\t\tif (t) {\n\t\t\t\t\t\tform.setAttribute('target', t);\n\t\t\t\t\t} else {\n\t\t\t\t\t\t$form.removeAttr('target');\n\t\t\t\t\t}\n\t\t\t\t\t$(extraInputs).remove();\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (s.forceSync) {\n\t\t\t\tdoSubmit();\n\t\t\t} else {\n\t\t\t\tsetTimeout(doSubmit, 10); // this lets dom updates render\n\t\t\t}\n\n\t\t\tvar data, doc, domCheckCount = 50, callbackProcessed;\n\n\t\t\tfunction cb(e) {\n\t\t\t\tif (xhr.aborted || callbackProcessed) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tdoc = getDoc(io);\n\t\t\t\tif (!doc) {\n\t\t\t\t\tlog('cannot access response document');\n\t\t\t\t\te = SERVER_ABORT;\n\t\t\t\t}\n\t\t\t\tif (e === CLIENT_TIMEOUT_ABORT && xhr) {\n\t\t\t\t\txhr.abort('timeout');\n\t\t\t\t\tdeferred.reject(xhr, 'timeout');\n\n\t\t\t\t\treturn;\n\n\t\t\t\t} else if (e === SERVER_ABORT && xhr) {\n\t\t\t\t\txhr.abort('server abort');\n\t\t\t\t\tdeferred.reject(xhr, 'error', 'server abort');\n\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tif (!doc || doc.location.href === s.iframeSrc) {\n\t\t\t\t\t// response not received yet\n\t\t\t\t\tif (!timedOut) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (io.detachEvent) {\n\t\t\t\t\tio.detachEvent('onload', cb);\n\t\t\t\t} else {\n\t\t\t\t\tio.removeEventListener('load', cb, false);\n\t\t\t\t}\n\n\t\t\t\tvar status = 'success', errMsg;\n\n\t\t\t\ttry {\n\t\t\t\t\tif (timedOut) {\n\t\t\t\t\t\tthrow 'timeout';\n\t\t\t\t\t}\n\n\t\t\t\t\tvar isXml = s.dataType === 'xml' || doc.XMLDocument || $.isXMLDoc(doc);\n\n\t\t\t\t\tlog('isXml=' + isXml);\n\n\t\t\t\t\tif (!isXml && window.opera && (doc.body === null || !doc.body.innerHTML)) {\n\t\t\t\t\t\tif (--domCheckCount) {\n\t\t\t\t\t\t\t// in some browsers (Opera) the iframe DOM is not always traversable when\n\t\t\t\t\t\t\t// the onload callback fires, so we loop a bit to accommodate\n\t\t\t\t\t\t\tlog('requeing onLoad callback, DOM not available');\n\t\t\t\t\t\t\tsetTimeout(cb, 250);\n\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t\t// let this fall through because server response could be an empty document\n\t\t\t\t\t\t// log('Could not access iframe DOM after mutiple tries.');\n\t\t\t\t\t\t// throw 'DOMException: not available';\n\t\t\t\t\t}\n\n\t\t\t\t\t// log('response detected');\n\t\t\t\t\tvar docRoot = doc.body ? doc.body : doc.documentElement;\n\n\t\t\t\t\txhr.responseText = docRoot ? docRoot.innerHTML : null;\n\t\t\t\t\txhr.responseXML = doc.XMLDocument ? doc.XMLDocument : doc;\n\t\t\t\t\tif (isXml) {\n\t\t\t\t\t\ts.dataType = 'xml';\n\t\t\t\t\t}\n\t\t\t\t\txhr.getResponseHeader = function(header){\n\t\t\t\t\t\tvar headers = {'content-type': s.dataType};\n\n\t\t\t\t\t\treturn headers[header.toLowerCase()];\n\t\t\t\t\t};\n\t\t\t\t\t// support for XHR 'status' & 'statusText' emulation :\n\t\t\t\t\tif (docRoot) {\n\t\t\t\t\t\txhr.status = Number(docRoot.getAttribute('status')) || xhr.status;\n\t\t\t\t\t\txhr.statusText = docRoot.getAttribute('statusText') || xhr.statusText;\n\t\t\t\t\t}\n\n\t\t\t\t\tvar dt = (s.dataType || '').toLowerCase();\n\t\t\t\t\tvar scr = /(json|script|text)/.test(dt);\n\n\t\t\t\t\tif (scr || s.textarea) {\n\t\t\t\t\t\t// see if user embedded response in textarea\n\t\t\t\t\t\tvar ta = doc.getElementsByTagName('textarea')[0];\n\n\t\t\t\t\t\tif (ta) {\n\t\t\t\t\t\t\txhr.responseText = ta.value;\n\t\t\t\t\t\t\t// support for XHR 'status' & 'statusText' emulation :\n\t\t\t\t\t\t\txhr.status = Number(ta.getAttribute('status')) || xhr.status;\n\t\t\t\t\t\t\txhr.statusText = ta.getAttribute('statusText') || xhr.statusText;\n\n\t\t\t\t\t\t} else if (scr) {\n\t\t\t\t\t\t\t// account for browsers injecting pre around json response\n\t\t\t\t\t\t\tvar pre = doc.getElementsByTagName('pre')[0];\n\t\t\t\t\t\t\tvar b = doc.getElementsByTagName('body')[0];\n\n\t\t\t\t\t\t\tif (pre) {\n\t\t\t\t\t\t\t\txhr.responseText = pre.textContent ? pre.textContent : pre.innerText;\n\t\t\t\t\t\t\t} else if (b) {\n\t\t\t\t\t\t\t\txhr.responseText = b.textContent ? b.textContent : b.innerText;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t} else if (dt === 'xml' && !xhr.responseXML && xhr.responseText) {\n\t\t\t\t\t\txhr.responseXML = toXml(xhr.responseText);\t\t\t// eslint-disable-line no-use-before-define\n\t\t\t\t\t}\n\n\t\t\t\t\ttry {\n\t\t\t\t\t\tdata = httpData(xhr, dt, s);\t\t\t\t\t\t// eslint-disable-line no-use-before-define\n\n\t\t\t\t\t} catch (err) {\n\t\t\t\t\t\tstatus = 'parsererror';\n\t\t\t\t\t\txhr.error = errMsg = (err || status);\n\t\t\t\t\t}\n\n\t\t\t\t} catch (err) {\n\t\t\t\t\tlog('error caught: ', err);\n\t\t\t\t\tstatus = 'error';\n\t\t\t\t\txhr.error = errMsg = (err || status);\n\t\t\t\t}\n\n\t\t\t\tif (xhr.aborted) {\n\t\t\t\t\tlog('upload aborted');\n\t\t\t\t\tstatus = null;\n\t\t\t\t}\n\n\t\t\t\tif (xhr.status) { // we've set xhr.status\n\t\t\t\t\tstatus = ((xhr.status >= 200 && xhr.status < 300) || xhr.status === 304) ? 'success' : 'error';\n\t\t\t\t}\n\n\t\t\t\t// ordering of these callbacks/triggers is odd, but that's how $.ajax does it\n\t\t\t\tif (status === 'success') {\n\t\t\t\t\tif (s.success) {\n\t\t\t\t\t\ts.success.call(s.context, data, 'success', xhr);\n\t\t\t\t\t}\n\n\t\t\t\t\tdeferred.resolve(xhr.responseText, 'success', xhr);\n\n\t\t\t\t\tif (g) {\n\t\t\t\t\t\t$.event.trigger('ajaxSuccess', [xhr, s]);\n\t\t\t\t\t}\n\n\t\t\t\t} else if (status) {\n\t\t\t\t\tif (typeof errMsg === 'undefined') {\n\t\t\t\t\t\terrMsg = xhr.statusText;\n\t\t\t\t\t}\n\t\t\t\t\tif (s.error) {\n\t\t\t\t\t\ts.error.call(s.context, xhr, status, errMsg);\n\t\t\t\t\t}\n\t\t\t\t\tdeferred.reject(xhr, 'error', errMsg);\n\t\t\t\t\tif (g) {\n\t\t\t\t\t\t$.event.trigger('ajaxError', [xhr, s, errMsg]);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (g) {\n\t\t\t\t\t$.event.trigger('ajaxComplete', [xhr, s]);\n\t\t\t\t}\n\n\t\t\t\tif (g && !--$.active) {\n\t\t\t\t\t$.event.trigger('ajaxStop');\n\t\t\t\t}\n\n\t\t\t\tif (s.complete) {\n\t\t\t\t\ts.complete.call(s.context, xhr, status);\n\t\t\t\t}\n\n\t\t\t\tcallbackProcessed = true;\n\t\t\t\tif (s.timeout) {\n\t\t\t\t\tclearTimeout(timeoutHandle);\n\t\t\t\t}\n\n\t\t\t\t// clean up\n\t\t\t\tsetTimeout(function() {\n\t\t\t\t\tif (!s.iframeTarget) {\n\t\t\t\t\t\t$io.remove();\n\t\t\t\t\t} else { // adding else to clean up existing iframe response.\n\t\t\t\t\t\t$io.attr('src', s.iframeSrc);\n\t\t\t\t\t}\n\t\t\t\t\txhr.responseXML = null;\n\t\t\t\t}, 100);\n\t\t\t}\n\n\t\t\tvar toXml = $.parseXML || function(s, doc) { // use parseXML if available (jQuery 1.5+)\n\t\t\t\tif (window.ActiveXObject) {\n\t\t\t\t\tdoc = new ActiveXObject('Microsoft.XMLDOM');\n\t\t\t\t\tdoc.async = 'false';\n\t\t\t\t\tdoc.loadXML(s);\n\n\t\t\t\t} else {\n\t\t\t\t\tdoc = (new DOMParser()).parseFromString(s, 'text/xml');\n\t\t\t\t}\n\n\t\t\t\treturn (doc && doc.documentElement && doc.documentElement.nodeName !== 'parsererror') ? doc : null;\n\t\t\t};\n\t\t\tvar parseJSON = $.parseJSON || function(s) {\n\t\t\t\t/* jslint evil:true */\n\t\t\t\treturn window['eval']('(' + s + ')');\t\t\t// eslint-disable-line dot-notation\n\t\t\t};\n\n\t\t\tvar httpData = function(xhr, type, s) { // mostly lifted from jq1.4.4\n\n\t\t\t\tvar ct = xhr.getResponseHeader('content-type') || '',\n\t\t\t\t\txml = ((type === 'xml' || !type) && ct.indexOf('xml') >= 0),\n\t\t\t\t\tdata = xml ? xhr.responseXML : xhr.responseText;\n\n\t\t\t\tif (xml && data.documentElement.nodeName === 'parsererror') {\n\t\t\t\t\tif ($.error) {\n\t\t\t\t\t\t$.error('parsererror');\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (s && s.dataFilter) {\n\t\t\t\t\tdata = s.dataFilter(data, type);\n\t\t\t\t}\n\t\t\t\tif (typeof data === 'string') {\n\t\t\t\t\tif ((type === 'json' || !type) && ct.indexOf('json') >= 0) {\n\t\t\t\t\t\tdata = parseJSON(data);\n\t\t\t\t\t} else if ((type === 'script' || !type) && ct.indexOf('javascript') >= 0) {\n\t\t\t\t\t\t$.globalEval(data);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\treturn data;\n\t\t\t};\n\n\t\t\treturn deferred;\n\t\t}\n\t};\n\n\t/**\n\t * ajaxForm() provides a mechanism for fully automating form submission.\n\t *\n\t * The advantages of using this method instead of ajaxSubmit() are:\n\t *\n\t * 1: This method will include coordinates for <input type=\"image\"> elements (if the element\n\t *\tis used to submit the form).\n\t * 2. This method will include the submit element's name/value data (for the element that was\n\t *\tused to submit the form).\n\t * 3. This method binds the submit() method to the form for you.\n\t *\n\t * The options argument for ajaxForm works exactly as it does for ajaxSubmit. ajaxForm merely\n\t * passes the options argument along after properly binding events for submit elements and\n\t * the form itself.\n\t */\n\t$.fn.ajaxForm = function(options, data, dataType, onSuccess) {\n\t\tif (typeof options === 'string' || (options === false && arguments.length > 0)) {\n\t\t\toptions = {\n\t\t\t\t'url'      : options,\n\t\t\t\t'data'     : data,\n\t\t\t\t'dataType' : dataType\n\t\t\t};\n\n\t\t\tif (typeof onSuccess === 'function') {\n\t\t\t\toptions.success = onSuccess;\n\t\t\t}\n\t\t}\n\n\t\toptions = options || {};\n\t\toptions.delegation = options.delegation && $.isFunction($.fn.on);\n\n\t\t// in jQuery 1.3+ we can fix mistakes with the ready state\n\t\tif (!options.delegation && this.length === 0) {\n\t\t\tvar o = {s: this.selector, c: this.context};\n\n\t\t\tif (!$.isReady && o.s) {\n\t\t\t\tlog('DOM not ready, queuing ajaxForm');\n\t\t\t\t$(function() {\n\t\t\t\t\t$(o.s, o.c).ajaxForm(options);\n\t\t\t\t});\n\n\t\t\t\treturn this;\n\t\t\t}\n\n\t\t\t// is your DOM ready?  http://docs.jquery.com/Tutorials:Introducing_$(document).ready()\n\t\t\tlog('terminating; zero elements found by selector' + ($.isReady ? '' : ' (DOM not ready)'));\n\n\t\t\treturn this;\n\t\t}\n\n\t\tif (options.delegation) {\n\t\t\t$(document)\n\t\t\t\t.off('submit.form-plugin', this.selector, doAjaxSubmit)\n\t\t\t\t.off('click.form-plugin', this.selector, captureSubmittingElement)\n\t\t\t\t.on('submit.form-plugin', this.selector, options, doAjaxSubmit)\n\t\t\t\t.on('click.form-plugin', this.selector, options, captureSubmittingElement);\n\n\t\t\treturn this;\n\t\t}\n\n\t\treturn this.ajaxFormUnbind()\n\t\t\t.on('submit.form-plugin', options, doAjaxSubmit)\n\t\t\t.on('click.form-plugin', options, captureSubmittingElement);\n\t};\n\n\t// private event handlers\n\tfunction doAjaxSubmit(e) {\n\t\t/* jshint validthis:true */\n\t\tvar options = e.data;\n\n\t\tif (!e.isDefaultPrevented()) { // if event has been canceled, don't proceed\n\t\t\te.preventDefault();\n\t\t\t$(e.target).closest('form').ajaxSubmit(options); // #365\n\t\t}\n\t}\n\n\tfunction captureSubmittingElement(e) {\n\t\t/* jshint validthis:true */\n\t\tvar target = e.target;\n\t\tvar $el = $(target);\n\n\t\tif (!$el.is('[type=submit],[type=image]')) {\n\t\t\t// is this a child element of the submit el?  (ex: a span within a button)\n\t\t\tvar t = $el.closest('[type=submit]');\n\n\t\t\tif (t.length === 0) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\ttarget = t[0];\n\t\t}\n\n\t\tvar form = target.form;\n\n\t\tform.clk = target;\n\n\t\tif (target.type === 'image') {\n\t\t\tif (typeof e.offsetX !== 'undefined') {\n\t\t\t\tform.clk_x = e.offsetX;\n\t\t\t\tform.clk_y = e.offsetY;\n\n\t\t\t} else if (typeof $.fn.offset === 'function') {\n\t\t\t\tvar offset = $el.offset();\n\n\t\t\t\tform.clk_x = e.pageX - offset.left;\n\t\t\t\tform.clk_y = e.pageY - offset.top;\n\n\t\t\t} else {\n\t\t\t\tform.clk_x = e.pageX - target.offsetLeft;\n\t\t\t\tform.clk_y = e.pageY - target.offsetTop;\n\t\t\t}\n\t\t}\n\t\t// clear form vars\n\t\tsetTimeout(function() {\n\t\t\tform.clk = form.clk_x = form.clk_y = null;\n\t\t}, 100);\n\t}\n\n\n\t// ajaxFormUnbind unbinds the event handlers that were bound by ajaxForm\n\t$.fn.ajaxFormUnbind = function() {\n\t\treturn this.off('submit.form-plugin click.form-plugin');\n\t};\n\n\t/**\n\t * formToArray() gathers form element data into an array of objects that can\n\t * be passed to any of the following ajax functions: $.get, $.post, or load.\n\t * Each object in the array has both a 'name' and 'value' property. An example of\n\t * an array for a simple login form might be:\n\t *\n\t * [ { name: 'username', value: 'jresig' }, { name: 'password', value: 'secret' } ]\n\t *\n\t * It is this array that is passed to pre-submit callback functions provided to the\n\t * ajaxSubmit() and ajaxForm() methods.\n\t */\n\t$.fn.formToArray = function(semantic, elements, filtering) {\n\t\tvar a = [];\n\n\t\tif (this.length === 0) {\n\t\t\treturn a;\n\t\t}\n\n\t\tvar form = this[0];\n\t\tvar formId = this.attr('id');\n\t\tvar els = (semantic || typeof form.elements === 'undefined') ? form.getElementsByTagName('*') : form.elements;\n\t\tvar els2;\n\n\t\tif (els) {\n\t\t\tels = $.makeArray(els); // convert to standard array\n\t\t}\n\n\t\t// #386; account for inputs outside the form which use the 'form' attribute\n\t\t// FinesseRus: in non-IE browsers outside fields are already included in form.elements.\n\t\tif (formId && (semantic || /(Edge|Trident)\\//.test(navigator.userAgent))) {\n\t\t\tels2 = $(':input[form=\"' + formId + '\"]').get(); // hat tip @thet\n\t\t\tif (els2.length) {\n\t\t\t\tels = (els || []).concat(els2);\n\t\t\t}\n\t\t}\n\n\t\tif (!els || !els.length) {\n\t\t\treturn a;\n\t\t}\n\n\t\tif ($.isFunction(filtering)) {\n\t\t\tels = $.map(els, filtering);\n\t\t}\n\n\t\tvar i, j, n, v, el, max, jmax;\n\n\t\tfor (i = 0, max = els.length; i < max; i++) {\n\t\t\tel = els[i];\n\t\t\tn = el.name;\n\t\t\tif (!n || el.disabled) {\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tif (semantic && form.clk && el.type === 'image') {\n\t\t\t\t// handle image inputs on the fly when semantic == true\n\t\t\t\tif (form.clk === el) {\n\t\t\t\t\ta.push({name: n, value: $(el).val(), type: el.type});\n\t\t\t\t\ta.push({name: n + '.x', value: form.clk_x}, {name: n + '.y', value: form.clk_y});\n\t\t\t\t}\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tv = $.fieldValue(el, true);\n\t\t\tif (v && v.constructor === Array) {\n\t\t\t\tif (elements) {\n\t\t\t\t\telements.push(el);\n\t\t\t\t}\n\t\t\t\tfor (j = 0, jmax = v.length; j < jmax; j++) {\n\t\t\t\t\ta.push({name: n, value: v[j]});\n\t\t\t\t}\n\n\t\t\t} else if (feature.fileapi && el.type === 'file') {\n\t\t\t\tif (elements) {\n\t\t\t\t\telements.push(el);\n\t\t\t\t}\n\n\t\t\t\tvar files = el.files;\n\n\t\t\t\tif (files.length) {\n\t\t\t\t\tfor (j = 0; j < files.length; j++) {\n\t\t\t\t\t\ta.push({name: n, value: files[j], type: el.type});\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\t// #180\n\t\t\t\t\ta.push({name: n, value: '', type: el.type});\n\t\t\t\t}\n\n\t\t\t} else if (v !== null && typeof v !== 'undefined') {\n\t\t\t\tif (elements) {\n\t\t\t\t\telements.push(el);\n\t\t\t\t}\n\t\t\t\ta.push({name: n, value: v, type: el.type, required: el.required});\n\t\t\t}\n\t\t}\n\n\t\tif (!semantic && form.clk) {\n\t\t\t// input type=='image' are not found in elements array! handle it here\n\t\t\tvar $input = $(form.clk), input = $input[0];\n\n\t\t\tn = input.name;\n\n\t\t\tif (n && !input.disabled && input.type === 'image') {\n\t\t\t\ta.push({name: n, value: $input.val()});\n\t\t\t\ta.push({name: n + '.x', value: form.clk_x}, {name: n + '.y', value: form.clk_y});\n\t\t\t}\n\t\t}\n\n\t\treturn a;\n\t};\n\n\t/**\n\t * Serializes form data into a 'submittable' string. This method will return a string\n\t * in the format: name1=value1&amp;name2=value2\n\t */\n\t$.fn.formSerialize = function(semantic) {\n\t\t// hand off to jQuery.param for proper encoding\n\t\treturn $.param(this.formToArray(semantic));\n\t};\n\n\t/**\n\t * Serializes all field elements in the jQuery object into a query string.\n\t * This method will return a string in the format: name1=value1&amp;name2=value2\n\t */\n\t$.fn.fieldSerialize = function(successful) {\n\t\tvar a = [];\n\n\t\tthis.each(function() {\n\t\t\tvar n = this.name;\n\n\t\t\tif (!n) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tvar v = $.fieldValue(this, successful);\n\n\t\t\tif (v && v.constructor === Array) {\n\t\t\t\tfor (var i = 0, max = v.length; i < max; i++) {\n\t\t\t\t\ta.push({name: n, value: v[i]});\n\t\t\t\t}\n\n\t\t\t} else if (v !== null && typeof v !== 'undefined') {\n\t\t\t\ta.push({name: this.name, value: v});\n\t\t\t}\n\t\t});\n\n\t\t// hand off to jQuery.param for proper encoding\n\t\treturn $.param(a);\n\t};\n\n\t/**\n\t * Returns the value(s) of the element in the matched set. For example, consider the following form:\n\t *\n\t *\t<form><fieldset>\n\t *\t\t<input name=\"A\" type=\"text\">\n\t *\t\t<input name=\"A\" type=\"text\">\n\t *\t\t<input name=\"B\" type=\"checkbox\" value=\"B1\">\n\t *\t\t<input name=\"B\" type=\"checkbox\" value=\"B2\">\n\t *\t\t<input name=\"C\" type=\"radio\" value=\"C1\">\n\t *\t\t<input name=\"C\" type=\"radio\" value=\"C2\">\n\t *\t</fieldset></form>\n\t *\n\t *\tvar v = $('input[type=text]').fieldValue();\n\t *\t// if no values are entered into the text inputs\n\t *\tv === ['','']\n\t *\t// if values entered into the text inputs are 'foo' and 'bar'\n\t *\tv === ['foo','bar']\n\t *\n\t *\tvar v = $('input[type=checkbox]').fieldValue();\n\t *\t// if neither checkbox is checked\n\t *\tv === undefined\n\t *\t// if both checkboxes are checked\n\t *\tv === ['B1', 'B2']\n\t *\n\t *\tvar v = $('input[type=radio]').fieldValue();\n\t *\t// if neither radio is checked\n\t *\tv === undefined\n\t *\t// if first radio is checked\n\t *\tv === ['C1']\n\t *\n\t * The successful argument controls whether or not the field element must be 'successful'\n\t * (per http://www.w3.org/TR/html4/interact/forms.html#successful-controls).\n\t * The default value of the successful argument is true. If this value is false the value(s)\n\t * for each element is returned.\n\t *\n\t * Note: This method *always* returns an array. If no valid value can be determined the\n\t *\tarray will be empty, otherwise it will contain one or more values.\n\t */\n\t$.fn.fieldValue = function(successful) {\n\t\tfor (var val = [], i = 0, max = this.length; i < max; i++) {\n\t\t\tvar el = this[i];\n\t\t\tvar v = $.fieldValue(el, successful);\n\n\t\t\tif (v === null || typeof v === 'undefined' || (v.constructor === Array && !v.length)) {\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tif (v.constructor === Array) {\n\t\t\t\t$.merge(val, v);\n\t\t\t} else {\n\t\t\t\tval.push(v);\n\t\t\t}\n\t\t}\n\n\t\treturn val;\n\t};\n\n\t/**\n\t * Returns the value of the field element.\n\t */\n\t$.fieldValue = function(el, successful) {\n\t\tvar n = el.name, t = el.type, tag = el.tagName.toLowerCase();\n\n\t\tif (typeof successful === 'undefined') {\n\t\t\tsuccessful = true;\n\t\t}\n\n\t\t/* eslint-disable no-mixed-operators */\n\t\tif (successful && (!n || el.disabled || t === 'reset' || t === 'button' ||\n\t\t\t(t === 'checkbox' || t === 'radio') && !el.checked ||\n\t\t\t(t === 'submit' || t === 'image') && el.form && el.form.clk !== el ||\n\t\t\ttag === 'select' && el.selectedIndex === -1)) {\n\t\t/* eslint-enable no-mixed-operators */\n\t\t\treturn null;\n\t\t}\n\n\t\tif (tag === 'select') {\n\t\t\tvar index = el.selectedIndex;\n\n\t\t\tif (index < 0) {\n\t\t\t\treturn null;\n\t\t\t}\n\n\t\t\tvar a = [], ops = el.options;\n\t\t\tvar one = (t === 'select-one');\n\t\t\tvar max = (one ? index + 1 : ops.length);\n\n\t\t\tfor (var i = (one ? index : 0); i < max; i++) {\n\t\t\t\tvar op = ops[i];\n\n\t\t\t\tif (op.selected && !op.disabled) {\n\t\t\t\t\tvar v = op.value;\n\n\t\t\t\t\tif (!v) { // extra pain for IE...\n\t\t\t\t\t\tv = (op.attributes && op.attributes.value && !(op.attributes.value.specified)) ? op.text : op.value;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (one) {\n\t\t\t\t\t\treturn v;\n\t\t\t\t\t}\n\n\t\t\t\t\ta.push(v);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn a;\n\t\t}\n\n\t\treturn $(el).val().replace(rCRLF, '\\r\\n');\n\t};\n\n\t/**\n\t * Clears the form data. Takes the following actions on the form's input fields:\n\t *  - input text fields will have their 'value' property set to the empty string\n\t *  - select elements will have their 'selectedIndex' property set to -1\n\t *  - checkbox and radio inputs will have their 'checked' property set to false\n\t *  - inputs of type submit, button, reset, and hidden will *not* be effected\n\t *  - button elements will *not* be effected\n\t */\n\t$.fn.clearForm = function(includeHidden) {\n\t\treturn this.each(function() {\n\t\t\t$('input,select,textarea', this).clearFields(includeHidden);\n\t\t});\n\t};\n\n\t/**\n\t * Clears the selected form elements.\n\t */\n\t$.fn.clearFields = $.fn.clearInputs = function(includeHidden) {\n\t\tvar re = /^(?:color|date|datetime|email|month|number|password|range|search|tel|text|time|url|week)$/i; // 'hidden' is not in this list\n\n\t\treturn this.each(function() {\n\t\t\tvar t = this.type, tag = this.tagName.toLowerCase();\n\n\t\t\tif (re.test(t) || tag === 'textarea') {\n\t\t\t\tthis.value = '';\n\n\t\t\t} else if (t === 'checkbox' || t === 'radio') {\n\t\t\t\tthis.checked = false;\n\n\t\t\t} else if (tag === 'select') {\n\t\t\t\tthis.selectedIndex = -1;\n\n\t\t\t} else if (t === 'file') {\n\t\t\t\tif (/MSIE/.test(navigator.userAgent)) {\n\t\t\t\t\t$(this).replaceWith($(this).clone(true));\n\t\t\t\t} else {\n\t\t\t\t\t$(this).val('');\n\t\t\t\t}\n\n\t\t\t} else if (includeHidden) {\n\t\t\t\t// includeHidden can be the value true, or it can be a selector string\n\t\t\t\t// indicating a special test; for example:\n\t\t\t\t// $('#myForm').clearForm('.special:hidden')\n\t\t\t\t// the above would clean hidden inputs that have the class of 'special'\n\t\t\t\tif ((includeHidden === true && /hidden/.test(t)) ||\n\t\t\t\t\t(typeof includeHidden === 'string' && $(this).is(includeHidden))) {\n\t\t\t\t\tthis.value = '';\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t};\n\n\n\t/**\n\t * Resets the form data or individual elements. Takes the following actions\n\t * on the selected tags:\n\t * - all fields within form elements will be reset to their original value\n\t * - input / textarea / select fields will be reset to their original value\n\t * - option / optgroup fields (for multi-selects) will defaulted individually\n\t * - non-multiple options will find the right select to default\n\t * - label elements will be searched against its 'for' attribute\n\t * - all others will be searched for appropriate children to default\n\t */\n\t$.fn.resetForm = function() {\n\t\treturn this.each(function() {\n\t\t\tvar el = $(this);\n\t\t\tvar tag = this.tagName.toLowerCase();\n\n\t\t\tswitch (tag) {\n\t\t\tcase 'input':\n\t\t\t\tthis.checked = this.defaultChecked;\n\t\t\t\t\t// fall through\n\n\t\t\tcase 'textarea':\n\t\t\t\tthis.value = this.defaultValue;\n\n\t\t\t\treturn true;\n\n\t\t\tcase 'option':\n\t\t\tcase 'optgroup':\n\t\t\t\tvar select = el.parents('select');\n\n\t\t\t\tif (select.length && select[0].multiple) {\n\t\t\t\t\tif (tag === 'option') {\n\t\t\t\t\t\tthis.selected = this.defaultSelected;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tel.find('option').resetForm();\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tselect.resetForm();\n\t\t\t\t}\n\n\t\t\t\treturn true;\n\n\t\t\tcase 'select':\n\t\t\t\tel.find('option').each(function(i) {\t\t\t\t// eslint-disable-line consistent-return\n\t\t\t\t\tthis.selected = this.defaultSelected;\n\t\t\t\t\tif (this.defaultSelected && !el[0].multiple) {\n\t\t\t\t\t\tel[0].selectedIndex = i;\n\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\treturn true;\n\n\t\t\tcase 'label':\n\t\t\t\tvar forEl = $(el.attr('for'));\n\t\t\t\tvar list = el.find('input,select,textarea');\n\n\t\t\t\tif (forEl[0]) {\n\t\t\t\t\tlist.unshift(forEl[0]);\n\t\t\t\t}\n\n\t\t\t\tlist.resetForm();\n\n\t\t\t\treturn true;\n\n\t\t\tcase 'form':\n\t\t\t\t\t// guard against an input with the name of 'reset'\n\t\t\t\t\t// note that IE reports the reset function as an 'object'\n\t\t\t\tif (typeof this.reset === 'function' || (typeof this.reset === 'object' && !this.reset.nodeType)) {\n\t\t\t\t\tthis.reset();\n\t\t\t\t}\n\n\t\t\t\treturn true;\n\n\t\t\tdefault:\n\t\t\t\tel.find('form,input,label,select,textarea').resetForm();\n\n\t\t\t\treturn true;\n\t\t\t}\n\t\t});\n\t};\n\n\t/**\n\t * Enables or disables any matching elements.\n\t */\n\t$.fn.enable = function(b) {\n\t\tif (typeof b === 'undefined') {\n\t\t\tb = true;\n\t\t}\n\n\t\treturn this.each(function() {\n\t\t\tthis.disabled = !b;\n\t\t});\n\t};\n\n\t/**\n\t * Checks/unchecks any matching checkboxes or radio buttons and\n\t * selects/deselects and matching option elements.\n\t */\n\t$.fn.selected = function(select) {\n\t\tif (typeof select === 'undefined') {\n\t\t\tselect = true;\n\t\t}\n\n\t\treturn this.each(function() {\n\t\t\tvar t = this.type;\n\n\t\t\tif (t === 'checkbox' || t === 'radio') {\n\t\t\t\tthis.checked = select;\n\n\t\t\t} else if (this.tagName.toLowerCase() === 'option') {\n\t\t\t\tvar $sel = $(this).parent('select');\n\n\t\t\t\tif (select && $sel[0] && $sel[0].type === 'select-one') {\n\t\t\t\t\t// deselect all other options\n\t\t\t\t\t$sel.find('option').selected(false);\n\t\t\t\t}\n\n\t\t\t\tthis.selected = select;\n\t\t\t}\n\t\t});\n\t};\n\n\t// expose debug var\n\t$.fn.ajaxSubmit.debug = false;\n\n\t// helper fn for console logging\n\tfunction log() {\n\t\tif (!$.fn.ajaxSubmit.debug) {\n\t\t\treturn;\n\t\t}\n\n\t\tvar msg = '[jquery.form] ' + Array.prototype.join.call(arguments, '');\n\n\t\tif (window.console && window.console.log) {\n\t\t\twindow.console.log(msg);\n\n\t\t} else if (window.opera && window.opera.postError) {\n\t\t\twindow.opera.postError(msg);\n\t\t}\n\t}\n}));\n\n},{\"jquery\":undefined}]},{},[]);\n"]}